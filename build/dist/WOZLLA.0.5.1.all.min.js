(function(d,h){function f(){b.READY||(w.determineEventTypes(),s.each(b.gestures,function(a){v.register(a)}),w.onTouch(b.DOCUMENT,l,v.detect),w.onTouch(b.DOCUMENT,m,v.detect),b.READY=!0)}var b=function y(a,c){return new y.Instance(a,c||{})};b.VERSION="1.1.3";b.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};b.DOCUMENT=document;b.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled;
b.HAS_TOUCHEVENTS="ontouchstart"in d;b.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);b.NO_MOUSEEVENTS=b.HAS_TOUCHEVENTS&&b.IS_MOBILE||b.HAS_POINTEREVENTS;b.CALCULATE_INTERVAL=25;var a={},c=b.DIRECTION_DOWN="down",e=b.DIRECTION_LEFT="left",g=b.DIRECTION_UP="up",n=b.DIRECTION_RIGHT="right",p=b.POINTER_MOUSE="mouse",k=b.POINTER_TOUCH="touch",r=b.POINTER_PEN="pen",q=b.EVENT_START="start",l=b.EVENT_MOVE="move",m=b.EVENT_END="end",u=b.EVENT_RELEASE="release",t=b.EVENT_TOUCH=
"touch";b.READY=!1;b.plugins=b.plugins||{};b.gestures=b.gestures||{};var s=b.utils={extend:function(a,c,e){for(var g in c)!c.hasOwnProperty(g)||a[g]!==h&&e||(a[g]=c[g]);return a},on:function(a,c,e){a.addEventListener(c,e,!1)},off:function(a,c,e){a.removeEventListener(c,e,!1)},each:function(a,c,e){var g,b;if("forEach"in a)a.forEach(c,e);else if(a.length!==h)for(g=0,b=a.length;g<b&&!1!==c.call(e,a[g],g,a);g++);else for(g in a)if(a.hasOwnProperty(g)&&!1===c.call(e,a[g],g,a))break},inStr:function(a,c){return-1<
a.indexOf(c)},inArray:function(a,c){if(a.indexOf){var e=a.indexOf(c);return-1===e?!1:e}for(var e=0,g=a.length;e<g;e++)if(a[e]===c)return e;return!1},toArray:function(a){return Array.prototype.slice.call(a,0)},hasParent:function(a,c){for(;a;){if(a==c)return!0;a=a.parentNode}return!1},getCenter:function(a){var c=[],e=[],g=[],b=[],n=Math.min,d=Math.max;if(1===a.length)return{pageX:a[0].pageX,pageY:a[0].pageY,clientX:a[0].clientX,clientY:a[0].clientY};s.each(a,function(a){c.push(a.pageX);e.push(a.pageY);
g.push(a.clientX);b.push(a.clientY)});return{pageX:(n.apply(Math,c)+d.apply(Math,c))/2,pageY:(n.apply(Math,e)+d.apply(Math,e))/2,clientX:(n.apply(Math,g)+d.apply(Math,g))/2,clientY:(n.apply(Math,b)+d.apply(Math,b))/2}},getVelocity:function(a,c,e){return{x:Math.abs(c/a)||0,y:Math.abs(e/a)||0}},getAngle:function(a,c){return 180*Math.atan2(c.clientY-a.clientY,c.clientX-a.clientX)/Math.PI},getDirection:function(a,b){var d=Math.abs(a.clientX-b.clientX),p=Math.abs(a.clientY-b.clientY);return d>=p?0<a.clientX-
b.clientX?e:n:0<a.clientY-b.clientY?g:c},getDistance:function(a,c){var e=c.clientX-a.clientX,g=c.clientY-a.clientY;return Math.sqrt(e*e+g*g)},getScale:function(a,c){return 2<=a.length&&2<=c.length?this.getDistance(c[0],c[1])/this.getDistance(a[0],a[1]):1},getRotation:function(a,c){return 2<=a.length&&2<=c.length?this.getAngle(c[1],c[0])-this.getAngle(a[1],a[0]):0},isVertical:function(a){return a==g||a==c},setPrefixedCss:function(a,c,e,g){var b=["","Webkit","Moz","O","ms"];c=s.toCamelCase(c);for(var n=
0;n<b.length;n++){var d=c;b[n]&&(d=b[n]+d.slice(0,1).toUpperCase()+d.slice(1));if(d in a.style){a.style[d]=(null==g||g)&&e||"";break}}},toggleBehavior:function(a,c,e){if(c&&a&&a.style){s.each(c,function(c,g){s.setPrefixedCss(a,g,c,e)});var g=e&&function(){return!1};"none"==c.userSelect&&(a.onselectstart=g);"none"==c.userDrag&&(a.ondragstart=g)}},toCamelCase:function(a){return a.replace(/[_-]([a-z])/g,function(a){return a[1].toUpperCase()})}},w=b.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,
on:function(a,c,e,g){c=c.split(" ");s.each(c,function(c){s.on(a,c,e);g&&g(c)})},off:function(a,c,e,g){c=c.split(" ");s.each(c,function(c){s.off(a,c,e);g&&g(c)})},onTouch:function(c,e,g){var n=this,d=function(a){var d=a.type.toLowerCase(),p=b.HAS_POINTEREVENTS,d=s.inStr(d,"mouse"),f;d&&n.preventMouseEvents||(d&&e==q&&0===a.button?(n.preventMouseEvents=!1,n.shouldDetect=!0):p&&e==q?n.shouldDetect=1===a.buttons||x.matchType(k,a):d||e!=q||(n.preventMouseEvents=!0,n.shouldDetect=!0),p&&e!=m&&x.updatePointer(e,
a),n.shouldDetect&&(f=n.doDetect.call(n,a,e,c,g)),f==m&&(n.preventMouseEvents=!1,n.shouldDetect=!1,x.reset()),p&&e==m&&x.updatePointer(e,a))};this.on(c,a[e],d);return d},doDetect:function(a,c,e,g){var b=this.getTouchList(a,c),n=c,d=b.trigger,p=b.length;c==q?d=t:c==m&&(d=u,p=b.length-(a.changedTouches?a.changedTouches.length:1));0<p&&this.started&&(n=l);this.started=!0;a=this.collectEventData(e,n,b,a);c!=m&&g.call(v,a);d&&(a.changedLength=p,a.eventType=d,g.call(v,a),a.eventType=n,delete a.changedLength);
n==m&&(g.call(v,a),this.started=!1);return n},determineEventTypes:function(){var c;c=b.HAS_POINTEREVENTS?d.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:b.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];a[q]=c[0];a[l]=c[1];a[m]=c[2];return a},getTouchList:function(a,c){if(b.HAS_POINTEREVENTS)return x.getTouchList();
if(a.touches){if(c==l)return a.touches;var e=[],g=[].concat(s.toArray(a.touches),s.toArray(a.changedTouches)),n=[];s.each(g,function(a){!1===s.inArray(e,a.identifier)&&n.push(a);e.push(a.identifier)});return n}a.identifier=1;return[a]},collectEventData:function(a,c,e,g){a=k;s.inStr(g.type,"mouse")||x.matchType(p,g)?a=p:x.matchType(r,g)&&(a=r);return{center:s.getCenter(e),timeStamp:Date.now(),target:g.target,touches:e,eventType:c,pointerType:a,srcEvent:g,preventDefault:function(){var a=this.srcEvent;
a.preventManipulation&&a.preventManipulation();a.preventDefault&&a.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return v.stopDetect()}}}},x=b.PointerEvent={pointers:{},getTouchList:function(){var a=[];s.each(this.pointers,function(c){a.push(c)});return a},updatePointer:function(a,c){a==m?delete this.pointers[c.pointerId]:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c)},matchType:function(a,c){if(!c.pointerType)return!1;var e=c.pointerType,
g={};g[p]=e===(c.MSPOINTER_TYPE_MOUSE||p);g[k]=e===(c.MSPOINTER_TYPE_TOUCH||k);g[r]=e===(c.MSPOINTER_TYPE_PEN||r);return g[a]},reset:function(){this.pointers={}}},v=b.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(a,c){this.current||(this.stopped=!1,this.current={inst:a,startEvent:s.extend({},c),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(c))},detect:function(a){if(this.current&&!this.stopped){a=this.extendEventData(a);var c=
this.current.inst,e=c.options;s.each(this.gestures,function(g){!this.stopped&&c.enabled&&e[g.name]&&g.handler.call(g,a,c)},this);this.current&&(this.current.lastEvent=a);a.eventType==m&&this.stopDetect();return a}},stopDetect:function(){this.previous=s.extend({},this.current);this.current=null;this.stopped=!0},getCalculatedData:function(a,c,e,g,n){var d=this.current,p=!1,k=d.lastCalcEvent,f=d.lastCalcData;k&&a.timeStamp-k.timeStamp>b.CALCULATE_INTERVAL&&(c=k.center,e=a.timeStamp-k.timeStamp,g=a.center.clientX-
k.center.clientX,n=a.center.clientY-k.center.clientY,p=!0);if(a.eventType==t||a.eventType==u)d.futureCalcEvent=a;if(!d.lastCalcEvent||p)f.velocity=s.getVelocity(e,g,n),f.angle=s.getAngle(c,a.center),f.direction=s.getDirection(c,a.center),d.lastCalcEvent=d.futureCalcEvent||a,d.futureCalcEvent=a;a.velocityX=f.velocity.x;a.velocityY=f.velocity.y;a.interimAngle=f.angle;a.interimDirection=f.direction},extendEventData:function(a){var c=this.current,e=c.startEvent,c=c.lastEvent||e;if(a.eventType==t||a.eventType==
u)e.touches=[],s.each(a.touches,function(a){e.touches.push({clientX:a.clientX,clientY:a.clientY})});var g=a.timeStamp-e.timeStamp,b=a.center.clientX-e.center.clientX,n=a.center.clientY-e.center.clientY;this.getCalculatedData(a,c.center,g,b,n);s.extend(a,{startEvent:e,deltaTime:g,deltaX:b,deltaY:n,distance:s.getDistance(e.center,a.center),angle:s.getAngle(e.center,a.center),direction:s.getDirection(e.center,a.center),scale:s.getScale(e.touches,a.touches),rotation:s.getRotation(e.touches,a.touches)});
return a},register:function(a){var c=a.defaults||{};c[a.name]===h&&(c[a.name]=!0);s.extend(b.defaults,c,!0);a.index=a.index||1E3;this.gestures.push(a);this.gestures.sort(function(a,c){return a.index<c.index?-1:a.index>c.index?1:0});return this.gestures}};b.Instance=function(a,c){var e=this;f();this.element=a;this.enabled=!0;s.each(c,function(a,e){delete c[e];c[s.toCamelCase(e)]=a});this.options=s.extend(s.extend({},b.defaults),c||{});this.options.behavior&&s.toggleBehavior(this.element,this.options.behavior,
!0);this.eventStartHandler=w.onTouch(a,q,function(a){e.enabled&&a.eventType==q?v.startDetect(e,a):a.eventType==t&&v.detect(a)});this.eventHandlers=[]};b.Instance.prototype={on:function(a,c){var e=this;w.on(e.element,a,c,function(a){e.eventHandlers.push({gesture:a,handler:c})});return e},off:function(a,c){var e=this;w.off(e.element,a,c,function(a){a=s.inArray({gesture:a,handler:c});!1!==a&&e.eventHandlers.splice(a,1)});return e},trigger:function(a,c){c||(c={});var e=b.DOCUMENT.createEvent("Event");
e.initEvent(a,!0,!0);e.gesture=c;var g=this.element;s.hasParent(c.target,g)&&(g=c.target);navigator.isCocoonJS?this.eventHandlers.forEach(function(c){a===c.gesture&&c.handler(e)}):g.dispatchEvent(e);return this},enable:function(a){this.enabled=a;return this},dispose:function(){var c,e;s.toggleBehavior(this.element,this.options.behavior,!1);for(c=-1;e=this.eventHandlers[++c];)s.off(this.element,e.gesture,e.handler);this.eventHandlers=[];w.off(this.element,a[q],this.eventStartHandler);return null}};
(function(a){var d=!1;b.gestures.Drag={name:a,index:50,handler:function(b,p){var k=v.current;if(!(0<p.options.dragMaxTouches&&b.touches.length>p.options.dragMaxTouches))switch(b.eventType){case q:d=!1;break;case l:if(b.distance<p.options.dragMinDistance&&k.name!=a)break;var f=k.startEvent.center;if(k.name!=a&&(k.name=a,p.options.dragDistanceCorrection&&0<b.distance)){var h=Math.abs(p.options.dragMinDistance/b.distance);f.pageX+=b.deltaX*h;f.pageY+=b.deltaY*h;f.clientX+=b.deltaX*h;f.clientY+=b.deltaY*
h;b=v.extendEventData(b)}if(k.lastEvent.dragLockToAxis||p.options.dragLockToAxis&&p.options.dragLockMinDistance<=b.distance)b.dragLockToAxis=!0;k=k.lastEvent.direction;b.dragLockToAxis&&k!==b.direction&&(s.isVertical(k)?b.direction=0>b.deltaY?g:c:b.direction=0>b.deltaX?e:n);d||(p.trigger(a+"start",b),d=!0);p.trigger(a,b);p.trigger(a+b.direction,b);k=s.isVertical(b.direction);(p.options.dragBlockVertical&&k||p.options.dragBlockHorizontal&&!k)&&b.preventDefault();break;case u:d&&b.changedLength<=p.options.dragMaxTouches&&
(p.trigger(a+"end",b),d=!1);break;case m:d=!1}},defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}})("drag");b.gestures.Gesture={name:"gesture",index:1337,handler:function(a,c){c.trigger(this.name,a)}};(function(a){var c;b.gestures.Hold={name:a,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:function(e,g){var b=g.options,n=v.current;switch(e.eventType){case q:clearTimeout(c);n.name=
a;c=setTimeout(function(){n&&n.name==a&&g.trigger(a,e)},b.holdTimeout);break;case l:e.distance>b.holdThreshold&&clearTimeout(c);break;case u:clearTimeout(c)}}}})("hold");b.gestures.Release={name:"release",index:Infinity,handler:function(a,c){a.eventType==u&&c.trigger(this.name,a)}};b.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(a,c){if(a.eventType==u){var e=a.touches.length,g=c.options;e<g.swipeMinTouches||
e>g.swipeMaxTouches||!(a.velocityX>g.swipeVelocityX||a.velocityY>g.swipeVelocityY)||(c.trigger(this.name,a),c.trigger(this.name+a.direction,a))}}};(function(a){var c=!1;b.gestures.Tap={name:a,index:100,handler:function(e,g){var b=g.options,n=v.current,d=v.previous,p,k;switch(e.eventType){case q:c=!1;break;case l:c=c||e.distance>b.tapMaxDistance;break;case m:!s.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<b.tapMaxTime&&!c&&(p=d&&d.lastEvent&&e.timeStamp-d.lastEvent.timeStamp,k=!1,d&&d.name==a&&p&&
p<b.doubleTapInterval&&e.distance<b.doubleTapDistance&&(g.trigger("doubletap",e),k=!0),!k||b.tapAlways)&&(n.name=a,g.trigger(n.name,e))}},defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}})("tap");b.gestures.Touch={name:"touch",index:-Infinity,defaults:{preventDefault:!1,preventMouse:!1},handler:function(a,c){c.options.preventMouse&&a.pointerType==p?a.stopDetect():(c.options.preventDefault&&a.preventDefault(),a.eventType==t&&c.trigger("touch",a))}};
(function(a){var c=!1;b.gestures.Transform={name:a,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:function(e,g){switch(e.eventType){case q:c=!1;break;case l:if(2>e.touches.length)break;var b=Math.abs(1-e.scale),n=Math.abs(e.rotation);if(b<g.options.transformMinScale&&n<g.options.transformMinRotation)break;v.current.name=a;c||(g.trigger(a+"start",e),c=!0);g.trigger(a,e);n>g.options.transformMinRotation&&g.trigger("rotate",e);b>g.options.transformMinScale&&(g.trigger("pinch",
e),g.trigger("pinch"+(1>e.scale?"in":"out"),e));break;case u:c&&2>e.changedLength&&(g.trigger(a+"end",e),c=!1)}}}})("transform");"function"==typeof define&&define.amd?define(function(){return b}):"undefined"!==typeof module&&module.exports?module.exports=b:d.Hammer=b})(window);var WOZLLA;
(function(d){(function(d){(function(b){b[b.CAPTURE=0]="CAPTURE";b[b.BUBBLE=1]="BUBBLE";b[b.TARGET=2]="TARGET"})(d.EventPhase||(d.EventPhase={}));var f=function(){function b(a,c,e,g){void 0===c&&(c=!1);void 0===e&&(e=null);void 0===g&&(g=!0);this._eventPhase=0;this._listenerRemove=this._propagationStoped=this._immediatePropagationStoped=!1;this._type=a;this._bubbles=c;this._data=e;this._canStopBubbles=g}Object.defineProperty(b.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"target",{get:function(){return this._target},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"currentTarget",{get:function(){return this._currentTarget},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"eventPhase",{get:function(){return this._eventPhase},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bubbles",
{get:function(){return this._bubbles},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"canStopBubbles",{get:function(){return this._canStopBubbles},enumerable:!0,configurable:!0});b.prototype.isStopPropagation=function(){return this._propagationStoped};b.prototype.stopPropagation=function(){this._canStopBubbles&&(this._propagationStoped=!0)};b.prototype.isStopImmediatePropagation=function(){return this._immediatePropagationStoped};b.prototype.stopImmediatePropagation=function(){this._canStopBubbles&&
(this._propagationStoped=this._immediatePropagationStoped=!0)};b.prototype.removeCurrentListener=function(){this._listenerRemove=!0};return b}();d.Event=f})(d.event||(d.event={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function a(){this._listeners=[]}a.prototype.add=function(a){this._listeners.push(a)};a.prototype.remove=function(a){var e,g=this._listeners.length;for(e=0;e<g;e++)if(this._listeners[e]===a)return this._listeners.splice(e,1),!0;return!1};a.prototype.removeAt=function(a){return this._listeners.splice(a,1)};a.prototype.get=function(a){return this._listeners[a]};a.prototype.length=function(){return this._listeners.length};a.prototype.clear=function(){this._listeners.length=
0};return a}(),b=function(){function a(){this._captureDict={};this._bubbleDict={}}a.prototype.setBubbleParent=function(a){this._bubbleParent=a};a.prototype.hasListener=function(a,e){void 0===e&&(e=!1);return 0<this._getListenerList(a,e).length()};a.prototype.getListenerCount=function(a,e){return this._getListenerList(a,e).length()};a.prototype.addListener=function(a,e,g){void 0===g&&(g=!1);this._getListenerList(a,g).add(e)};a.prototype.removeListener=function(a,e,g){void 0===g&&(g=!1);return this._getListenerList(a,
g).remove(e)};a.prototype.clearListeners=function(a,e){this._getListenerList(a,e).clear()};a.prototype.clearAllListeners=function(){this._captureDict={};this._bubbleDict={}};a.prototype.dispatchEvent=function(a){var e,g,b,d;a._target=this;if(a.bubbles){b=this._getAncients();g=b.length;for(e=g-1;0<=e;e--)if(d=b[e],d._dispatchEventInPhase(a,0))return;if(!this._dispatchEventInPhase(a,0)&&!this._dispatchEventInPhase(a,2))for(e=0;e<g&&(d=b[e],!d._dispatchEventInPhase(a,1));e++);}else this._dispatchEventInPhase(a,
2)};a.prototype._dispatchEventInPhase=function(a,e){var g,b,d;a._eventPhase=e;a._listenerRemove=!1;a._currentTarget=this;d=this._getListenerList(a.type,0===e);g=d.length();if(0<g){for(g-=1;0<=g;g--)if(b=d.get(g),b(a),a._listenerRemove&&(a._listenerRemove=!1,d.removeAt(g)),a.isStopImmediatePropagation())return!0;if(a.isStopPropagation())return!0}return!1};a.prototype._getAncients=function(){for(var a=[],e=this;e._bubbleParent;)e=e._bubbleParent,a.push(e);return a};a.prototype._getListenerList=function(a,
e){var g,b=e?this._captureDict:this._bubbleDict;g=b[a];g||(g=new f,b[a]=g);return g};return a}();d.EventDispatcher=b})(d.event||(d.event={}))})(WOZLLA||(WOZLLA={}));var __extends=this.__extends||function(d,h){function f(){this.constructor=d}for(var b in h)h.hasOwnProperty(b)&&(d[b]=h[b]);f.prototype=h.prototype;d.prototype=new f};
(function(d){(function(h){var f=function(b){function a(a){b.call(this);this._refCount=0;this._src=a}__extends(a,b);Object.defineProperty(a.prototype,"src",{get:function(){return this._src},enumerable:!0,configurable:!0});a.prototype.retain=function(){this._refCount++};a.prototype.release=function(a){void 0===a&&(a=!0);a&&0<this._refCount&&this._refCount--;0===this._refCount&&this.unload()};a.prototype.load=function(a,e){a()};a.prototype.unload=function(){var c=new d.event.Event(a.EVENT_UNLOAD,!1);
c.target=c.currentTarget=this;this.dispatchEvent(c)};a.EVENT_UNLOAD="unload";return a}(d.event.EventDispatcher);h.Asset=f})(d.assets||(d.assets={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function a(){this._loadedAssets={};this._loadingUnits={}}a.getInstance=function(){a.instance||(a.instance=new a);return a.instance};a.prototype.getAsset=function(a){return this._loadedAssets[a]};a.prototype.addAsset=function(a){var e=this;this._loadedAssets[a.src]=a;a.addListener(d.Asset.EVENT_UNLOAD,function(g){g.removeCurrentListener();e.removeAsset(a)})};a.prototype.removeAsset=function(a){delete this._loadedAssets[a.src]};a.prototype.loadAll=function(a){var e,
g,b;g=0;for(b=a.length;g<b;g++)e=a[g],this.load(e.src,e.AssetClass,e.callback)};a.prototype.load=function(a,e,g){var d=this,p,k;(p=this._loadedAssets[a])?g&&g():(k=this._loadingUnits[a])?k.addCallback(g,g):(p=new e(a),k=new b(a),k.addCallback(g,g),this._loadingUnits[a]=k,p.load(function(){delete d._loadingUnits[a];d.addAsset(p);k.complete(null,p)},function(e){console.log(e);delete d._loadingUnits[a];k.complete(e)}))};return a}();d.AssetLoader=f;var b=function(){function a(a){this.callbacks=[];this.src=
a}a.prototype.addCallback=function(a,e){this.callbacks.push({onSuccess:a,onError:e})};a.prototype.complete=function(a,e){this.callbacks.forEach(function(g){a?g.onError&&g.onError(a):g.onSuccess&&g.onSuccess(e)})};return a}()})(d.assets||(d.assets={}))})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.ITexture||(d.ITexture={})).DOC="DOC"})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.IRenderer||(d.IRenderer={})).DOC="DOC"})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){this.values=new Float32Array(9);this.identity()}b.prototype.applyMatrix=function(a){this.values.set(a.values)};b.prototype.identity=function(){this.values[0]=1;this.values[1]=0;this.values[2]=0;this.values[3]=0;this.values[4]=1;this.values[5]=0;this.values[6]=0;this.values[7]=0;this.values[8]=1};b.prototype.invert=function(){var a=this.values[0],c=this.values[1],e=this.values[3],g=this.values[4],b=this.values[6],d=this.values[7],k=a*g-c*e;this.values[0]=
g/k;this.values[1]=-c/k;this.values[3]=-e/k;this.values[4]=a/k;this.values[6]=(e*d-g*b)/k;this.values[7]=-(a*d-c*b)/k};b.prototype.prepend=function(a,c,e,g,b,d){var k,f,h,l,m=this.values,u=m[6],t=m[7];if(1!=a||0!=c||0!=e||1!=g)k=m[0],f=m[1],h=m[3],l=m[4],m[0]=k*a+f*e,m[1]=k*c+f*g,m[3]=h*a+l*e,m[4]=h*c+l*g;m[6]=u*a+t*e+b;m[7]=u*c+t*g+d};b.prototype.append=function(a,c,e,g,b,d){var k,f,h,l,m=this.values;k=m[0];f=m[1];h=m[3];l=m[4];m[0]=a*k+c*h;m[1]=a*f+c*l;m[3]=e*k+g*h;m[4]=e*f+g*l;m[6]=b*k+d*h+m[6];
m[7]=b*f+d*l+m[7]};b.prototype.prependTransform=function(a,c,e,g,d,p,k,f,h){if(d%360){var l=d*b.DEG_TO_RAD;d=Math.cos(l);l=Math.sin(l)}else d=1,l=0;if(f||h)this.values[6]-=f,this.values[7]-=h;p||k?(p*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.prepend(d*e,l*e,-l*g,d*g,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(p),Math.cos(p),a,c)):this.prepend(d*e,l*e,-l*g,d*g,a,c);return this};b.prototype.appendTransform=function(a,c,e,g,d,p,k,f,h){if(d%360){var l=d*b.DEG_TO_RAD;d=Math.cos(l);l=Math.sin(l)}else d=
1,l=0;p||k?(p*=b.DEG_TO_RAD,k*=b.DEG_TO_RAD,this.append(Math.cos(k),Math.sin(k),-Math.sin(p),Math.cos(p),a,c),this.append(d*e,l*e,-l*g,d*g,0,0)):this.append(d*e,l*e,-l*g,d*g,a,c);if(f||h)this.values[6]-=f*this.values[0]+h*this.values[3],this.values[7]-=f*this.values[1]+h*this.values[4];return this};b.DEG_TO_RAD=Math.PI/180;return b}();d.Matrix=f})(d.math||(d.math={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c,e){this._target=null;this.loop=this.ignoreGlobalPause=this._useTicks=!1;this._actions=this._steps=this.pluginData=null;this.paused=!1;this.duration=0;this._prevPos=-1;this.position=null;this._stepPosition=this._prevPosition=0;this.passive=!1;this.initialize(a,c,e)}b.get=function(a,c,e,g){void 0===c&&(c=null);void 0===e&&(e=null);void 0===g&&(g=!1);g&&b.removeTweens(a);return new b(a,c,e)};b.removeTweens=function(a){if(a.tween_count){for(var c=
b._tweens,e=c.length-1;0<=e;e--)c[e]._target==a&&(c[e].paused=!0,c.splice(e,1));a.tween_count=0}};b.tick=function(a,c){void 0===c&&(c=!1);for(var e=b._tweens.concat(),g=e.length-1;0<=g;g--){var d=e[g];c&&!d.ignoreGlobalPause||d.paused||d.tick(d._useTicks?1:a)}};b._register=function(a,c){var e=a._target,g=b._tweens;if(c)e&&(e.tween_count=e.tween_count?e.tween_count+1:1),g.push(a);else for(e&&e.tween_count--,e=g.length;e--;)if(g[e]==a){g.splice(e,1);break}};b.removeAllTweens=function(){for(var a=b._tweens,
c=0,e=a.length;c<e;c++){var g=a[c];g.paused=!0;g._target.tweenjs_count=0}a.length=0};b.prototype.initialize=function(a,c,e){this._target=a;c&&(this._useTicks=c.useTicks,this.ignoreGlobalPause=c.ignoreGlobalPause,this.loop=c.loop,c.override&&b.removeTweens(a));this.pluginData=e||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];c&&c.paused?this.paused=!0:b._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,b.NONE)};b.prototype.setPosition=function(a,
c){void 0===c&&(c=1);0>a&&(a=0);var e=a,g=!1;e>=this.duration&&(this.loop?e%=this.duration:(e=this.duration,g=!0));if(e==this._prevPos)return g;var b=this._prevPos;this.position=this._prevPos=e;this._prevPosition=a;if(this._target)if(g)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var d=0,f=this._steps.length;d<f&&!(this._steps[d].t>e);d++);d=this._steps[d-1];this._updateTargetProps(d,(this._stepPosition=e-d.t)/d.d)}0!=c&&0<this._actions.length&&(this._useTicks?this._runActions(e,
e):1==c&&e<b?(b!=this.duration&&this._runActions(b,this.duration),this._runActions(0,e,!0)):this._runActions(b,e));g&&this.setPaused(!0);return g};b.prototype._runActions=function(a,c,e){void 0===e&&(e=!1);var g=a,b=c,d=-1,f=this._actions.length,h=1;a>c&&(g=c,b=a,d=f,f=h=-1);for(;(d+=h)!=f;){c=this._actions[d];var q=c.t;(q==b||q>g&&q<b||e&&q==a)&&c.f.apply(c.o,c.p)}};b.prototype._updateTargetProps=function(a,c){var e,g,d,f;if(a||1!=c){if(this.passive=!!a.v)return;a.e&&(c=a.e(c,0,1,1));e=a.p0;g=a.p1}else this.passive=
!1,e=g=this._curQueueProps;for(var k in this._initQueueProps){null==(d=e[k])&&(e[k]=d=this._initQueueProps[k]);null==(f=g[k])&&(g[k]=f=d);d=d==f||0==c||1==c||"number"!=typeof d?1==c?f:d:d+(f-d)*c;var h=!1;if(f=b._plugins[k])for(var q=0,l=f.length;q<l;q++){var m=f[q].tween(this,k,d,e,g,c,!!a&&e==g,!a);m==b.IGNORE?h=!0:d=m}h||(this._target[k]=d)}};b.prototype.setPaused=function(a){this.paused=a;b._register(this,!a);return this};b.prototype._cloneProps=function(a){var c={},e;for(e in a)c[e]=a[e];return c};
b.prototype._addStep=function(a){0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d);return this};b.prototype._appendQueueProps=function(a){var c,e,g,d,f,k;for(k in a)if(void 0===this._initQueueProps[k]){e=this._target[k];if(c=b._plugins[k])for(g=0,d=c.length;g<d;g++)e=c[g].init(this,k,e);this._initQueueProps[k]=this._curQueueProps[k]=void 0===e?null:e}for(k in a){e=this._curQueueProps[k];if(c=b._plugins[k])for(f=f||{},g=0,d=c.length;g<d;g++)c[g].step&&c[g].step(this,k,e,a[k],f);this._curQueueProps[k]=
a[k]}f&&this._appendQueueProps(f);return this._curQueueProps};b.prototype._addAction=function(a){a.t=this.duration;this._actions.push(a);return this};b.prototype._set=function(a,c){for(var e in a)c[e]=a[e]};b.prototype.wait=function(a,c){void 0===c&&(c=!1);if(null==a||0>=a)return this;var e=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:e,p1:e,v:c})};b.prototype.to=function(a,c,e){void 0===e&&(e=void 0);if(isNaN(c)||0>c)c=0;return this._addStep({d:c||0,p0:this._cloneProps(this._curQueueProps),
e:e,p1:this._cloneProps(this._appendQueueProps(a))})};b.prototype.call=function(a,c,e){void 0===c&&(c=void 0);void 0===e&&(e=void 0);a||(a=function(){});return this._addAction({f:a,p:e?e:[this],o:c?c:this._target})};b.prototype.set=function(a,c){void 0===c&&(c=null);return this._addAction({f:this._set,o:this,p:[a,c?c:this._target]})};b.prototype.play=function(a){a||(a=this);return this.call(a.setPaused,[!1],a)};b.prototype.pause=function(a){a||(a=this);return this.call(a.setPaused,[!0],a)};b.prototype.tick=
function(a){this.paused||this.setPosition(this._prevPosition+a)};b.NONE=0;b.LOOP=1;b.REVERSE=2;b._tweens=[];b.IGNORE={};b._plugins={};b._inited=!1;return b}();d.Tween=f})(d.utils||(d.utils={}))})(WOZLLA||(WOZLLA={}));
(function(d){var h=new d.math.Matrix,f=function(){function b(){this.worldMatrix=new d.math.Matrix;this.useGLCoords=!1;this._relative=!0;this._dirty=!1;this._values=Array(9);this.reset()}Object.defineProperty(b.prototype,"x",{get:function(){return this._values[0]},set:function(a){this._values[0]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"y",{get:function(){return this._values[1]},set:function(a){this._values[1]=a;this._dirty=!0},enumerable:!0,configurable:!0});
Object.defineProperty(b.prototype,"rotation",{get:function(){return this._values[4]},set:function(a){this._values[4]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scaleX",{get:function(){return this._values[5]},set:function(a){this._values[5]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scaleY",{get:function(){return this._values[6]},set:function(a){this._values[6]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"skewX",{get:function(){return this._values[7]},set:function(a){this._values[7]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"skewY",{get:function(){return this._values[8]},set:function(a){this._values[8]=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"relative",{get:function(){return this._relative},set:function(a){this._relative=a;this._dirty=!0},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"dirty",
{get:function(){return this._dirty},set:function(a){this._dirty=a},enumerable:!0,configurable:!0});b.prototype.setPosition=function(a,c){this._values[0]=a;this._values[1]=c;this._dirty=!0};b.prototype.setAnchor=function(a,c){this._values[2]=a;this._values[3]=c;this._dirty=!0};b.prototype.setRotation=function(a){this._values[4]=a;this._dirty=!0};b.prototype.setScale=function(a,c){this._values[5]=a;this._values[6]=c;this._dirty=!0};b.prototype.setSkew=function(a,c){this._values[7]=a;this._values[8]=
c;this._dirty=!0};b.prototype.reset=function(){this._values[0]=0;this._values[1]=0;this._values[2]=0;this._values[3]=0;this._values[4]=0;this._values[5]=1;this._values[6]=1;this._values[7]=0;this._values[8]=0};b.prototype.set=function(a){"number"===typeof a.x&&(this._values[0]=a.x);"number"===typeof a.y&&(this._values[1]=a.y);"number"===typeof a.rotation&&(this._values[4]=a.rotation);"number"===typeof a.scaleX&&(this._values[5]=a.scaleX);"number"===typeof a.scaleY&&(this._values[6]=a.scaleY);"number"===
typeof a.skewX&&(this._values[7]=a.skewX);"number"===typeof a.skewY&&(this._values[8]=a.skewY);"undefined"!==typeof a.relative&&(this._relative=a.relative);this._dirty=!0};b.prototype.transform=function(a){void 0===a&&(a=null);var c,e=this.worldMatrix,g=this._values[0],d=this._values[1];c=this._values[4];var f=this._values[5],k=this._values[6],h=this._values[7],q=this._values[8];this.useGLCoords&&(h+=180);a&&this._relative?e.applyMatrix(a.worldMatrix):this===a?e.identity():e.applyMatrix(a.worldMatrix);
c%360?(c*=b.DEG_TO_RAD,a=Math.cos(c),c=Math.sin(c)):(a=1,c=0);h||q?(h*=b.DEG_TO_RAD,q*=b.DEG_TO_RAD,e.append(Math.cos(q),Math.sin(q),-Math.sin(h),Math.cos(h),g,d),e.append(a*f,c*f,-c*k,a*k,0,0)):e.append(a*f,c*f,-c*k,a*k,g,d);this._dirty=!1};b.prototype.updateWorldMatrix=function(){if(this._dirty){var a=this.worldMatrix;a?a.identity():a=new d.math.Matrix;for(var c=this;null!=c;)a.prependTransform(c.x,c.y,c.scaleX,c.scaleY,c.rotation,c.skewX,c.skewY,0,0),c=c.parent}};b.prototype.globalToLocal=function(a,
c,e){void 0===e&&(e=!1);e&&this.updateWorldMatrix();h.applyMatrix(this.worldMatrix);h.invert();h.append(1,0,0,1,a,c);return{x:h.values[6],y:h.values[7]}};b.prototype.localToGlobal=function(a,c,e){void 0===e&&(e=!1);e&&this.updateWorldMatrix();h.applyMatrix(this.worldMatrix);h.append(1,0,0,1,a,c);return{x:h.values[6],y:h.values[7]}};b.prototype.tween=function(a){return d.utils.Tween.get(this,null,null,a)};b.prototype.clearTweens=function(){return d.utils.Tween.removeTweens(this)};b.DEG_TO_RAD=Math.PI/
180;return b}();d.Transform=f})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(f){function b(){f.apply(this,arguments);this._py=this._px=this._bottom=this._right=this._left=this._top=this._height=this._width=0;this._anchorMode=b.ANCHOR_CENTER|b.ANCHOR_MIDDLE}__extends(b,f);Object.defineProperty(b.prototype,"width",{get:function(){return this._width},set:function(a){this._width!==a&&(this._width=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"height",{get:function(){return this._height},set:function(a){this._height!==
a&&(this._height=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"top",{get:function(){return this._top},set:function(a){this._top!==a&&(this._top=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"left",{get:function(){return this._left},set:function(a){this._left!==a&&(this._left=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"right",{get:function(){return this._right},set:function(a){this._right!==
a&&(this._right=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bottom",{get:function(){return this._bottom},set:function(a){this._bottom!==a&&(this._bottom=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"px",{get:function(){return this._px},set:function(a){this._px!==a&&(this._px=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"py",{get:function(){return this._py},set:function(a){this._py!==
a&&(this._py=a,this.dirty=!0)},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"anchorMode",{get:function(){return this._anchorMode},set:function(a){this._anchorMode!==a&&(this._anchorMode=a,this.dirty=!0)},enumerable:!0,configurable:!0});b.prototype.set=function(a){this._anchorMode=a.anchorMode;this._width=a.width||0;this._height=a.height||0;this._top=a.top||0;this._left=a.left||0;this._right=a.right||0;this._bottom=a.bottom||0;this._px=a.px||0;this._px=a.py||0;this.dirty=!0};b.prototype.transform=
function(a){void 0===a&&(a=null);var c,e;e=a&&this._relative&&a instanceof b?a:d.Director.getInstance().viewRectTransform;c=this._anchorMode;(c&b.ANCHOR_LEFT)===b.ANCHOR_LEFT?this.x=this._px:(c&b.ANCHOR_RIGHT)===b.ANCHOR_RIGHT?this.x=e._width+this._px:(c&b.ANCHOR_HORIZONTAL_STRENGTH)===b.ANCHOR_HORIZONTAL_STRENGTH?(this.x=this._left,this._width=e._width-this._left-this._right):this.x=e._width/2+this._px;(c&b.ANCHOR_TOP)===b.ANCHOR_TOP?this.y=this._py:(c&b.ANCHOR_BOTTOM)===b.ANCHOR_BOTTOM?this.y=e._height+
this._py:(c&b.ANCHOR_VERTICAL_STRENGTH)===b.ANCHOR_VERTICAL_STRENGTH?(this.y=this._top,this._height=e._height-this._top-this._bottom):this.y=e._height/2+this._py;f.prototype.transform.call(this,a)};b.ANCHOR_TOP=1;b.ANCHOR_MIDDLE=16;b.ANCHOR_BOTTOM=256;b.ANCHOR_VERTICAL_STRENGTH=4096;b.ANCHOR_LEFT=65536;b.ANCHOR_CENTER=1048576;b.ANCHOR_RIGHT=16777216;b.ANCHOR_HORIZONTAL_STRENGTH=268435456;return b}(d.Transform);d.RectTransform=h})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(){function d(){}d.isTrue=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);if(!0!==b)throw Error(a);};d.isFalse=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);if(!1!==b)throw Error(a);};d.isTypeof=function(b,a,c){void 0===c&&(c=d.DEFAULT_MESSAGE);if(typeof b!==a)throw Error(c);};d.isNotTypeof=function(b,a,c){void 0===c&&(c=d.DEFAULT_MESSAGE);if(typeof b===a)throw Error(c);};d.isString=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);d.isTypeof(b,"string",a)};d.isObject=function(b,
a){void 0===a&&(a=d.DEFAULT_MESSAGE);d.isTypeof(b,"object",a)};d.isUndefined=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);d.isTypeof(b,"undefined",a)};d.isNotUndefined=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);d.isNotTypeof(b,"undefined",a)};d.isFunction=function(b,a){void 0===a&&(a=d.DEFAULT_MESSAGE);d.isTypeof(b,"function",a)};d.DEFAULT_MESSAGE="Assertion Fail";return d}();d.Assert=h})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(){function f(){}Object.defineProperty(f.prototype,"gameObject",{get:function(){return this._gameObject},enumerable:!0,configurable:!0});Object.defineProperty(f.prototype,"transform",{get:function(){return this._gameObject.transform},enumerable:!0,configurable:!0});f.prototype.init=function(){};f.prototype.destroy=function(){};f.prototype.listRequiredComponents=function(){return[]};f.register=function(b,a){d.Assert.isObject(a);d.Assert.isString(a.name);d.Assert.isUndefined(f.configMap[a.name]);
f.configMap[a.name]=b};f.create=function(b){b=f.configMap[b];d.Assert.isFunction(b);return new b};f.configMap={};return f}();d.Component=h})(WOZLLA||(WOZLLA={}));(function(d){var h=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.collideXY=function(a,c){return!1};b.prototype.collide=function(a){return!1};return b}(d.Component);d.Collider=h})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(a,c){return a.z-c.z},f={},b=function(a){function c(e){void 0===e&&(e=!1);a.call(this);this._visible=this._active=!0;this._touchable=this._destroyed=this._initialized=!1;this._name="GameObject";this._children=[];this._components=[];this._transform=e?new d.RectTransform:new d.Transform;this._rectTransform=e?this._transform:null;this._z=0;this._behaviours=[]}__extends(c,a);c.getById=function(a){return f[a]};Object.defineProperty(c.prototype,"id",{get:function(){return this._id},
set:function(a){var c=this._id;this._id=a;c&&delete f[c];f[a]=this},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"name",{get:function(){return this._name},set:function(a){this._name=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"transform",{get:function(){return this._transform},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"rectTransform",{get:function(){return this._rectTransform},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,
"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"children",{get:function(){return this._children.slice(0)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"z",{get:function(){return this._z},set:function(a){this.setZ(a,!0)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"active",{get:function(){return this._active},set:function(a){var c=this._active;this._active=a;!c&&a&&(this._transform.dirty=!0)},
enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"visible",{get:function(){return this._visible},set:function(a){this._visible=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"initialized",{get:function(){return this._initialized},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"touchable",{get:function(){return this._touchable},
set:function(a){this._touchable=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"collider",{get:function(){return this._collider},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"behaviours",{get:function(){return this._behaviours.slice(0)},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"mask",{get:function(){return this._mask},
enumerable:!0,configurable:!0});c.prototype.setZ=function(a,c){void 0===c&&(c=!0);this._z!==a&&(this._z=a,c&&this._children.sort(h))};c.prototype.addChild=function(a,c){void 0===c&&(c=!0);if(-1!==this._children.indexOf(a))return!1;a._parent&&a.removeMe();a.dispatchEvent(new d.CoreEvent("beforeadd",!0));this._children.push(a);c&&this._children.sort(h);a._parent=this;a._transform.dirty=!0;a.dispatchEvent(new d.CoreEvent("add",!0));return!0};c.prototype.removeChild=function(a){var c=this._children.indexOf(a);
return-1!==c?(a.dispatchEvent(new d.CoreEvent("beforeremove",!0,null,!1)),this._children.splice(c,1),a._parent=null,a.dispatchEvent(new d.CoreEvent("remove",!0,null,!1)),!0):!1};c.prototype.getChild=function(a){var c,b,d;b=0;for(d=this._children.length;b<d;b++)if(c=this._children[b],c._name===a)return c;return null};c.prototype.getChildren=function(a){var c,b,d,f=[];b=0;for(d=this._children.length;b<d;b++)c=this._children[b],c._name===a&&f.push(c);return f};c.prototype.removeMe=function(){var a=this._parent;
return a&&a.removeChild(this)};c.prototype.eachChild=function(a){this._children.forEach(a)};c.prototype.sortChildren=function(){this._children.sort(h)};c.prototype.getPath=function(a){void 0===a&&(a="/");for(var c=[],b=this;b;)c.unshift(b.name),b=b.parent;return c.join(a)};c.prototype.contains=function(a){if(a===this)return!0;for(;a=a.parent;)if(a===this)return!0;return!1};c.prototype.getComponent=function(a){var c,b,d;if(0>=this._components.length)return null;b=0;for(d=this._components.length;b<
d;b++)if(c=this._components[b],c instanceof a)return c;return null};c.prototype.hasComponent=function(a){var c,b,d;if(0>=this._components.length)return!1;b=0;for(d=this._components.length;b<d;b++)if(c=this._components[b],c instanceof a)return!0;return!1};c.prototype.getComponents=function(a){var c,b,d,f=[];if(0>=this._components.length)return f;b=0;for(d=this._components.length;b<d;b++)c=this._components[b],c instanceof a&&f.push(c);return f};c.prototype.addComponent=function(a){if(-1!==this._components.indexOf(a))return!1;
if(!this.checkComponentDependency(a))throw Error("Can't not add, because of dependency");a._gameObject&&a._gameObject.removeComponent(a);this._components.push(a);a._gameObject=this;a instanceof d.Behaviour?this._behaviours.push(a):a instanceof d.Renderer?this._renderer=a:a instanceof d.Collider?this._collider=a:a instanceof d.Mask&&(this._mask=a);return!0};c.prototype.removeComponent=function(a){var c,b,f,k=this._components.indexOf(a);if(-1!==k){c=0;for(b=this._components.length;c<b;c++)if(f=this._components[c],
f!==a&&this.checkComponentDependency(f))throw Error("Can't not remove, because of dependency");this._components.splice(k,1);a instanceof d.Behaviour?this._behaviours.splice(this._behaviours.indexOf(a),1):a instanceof d.Renderer?this._renderer=null:a instanceof d.Collider?this._collider=null:a instanceof d.Mask&&(this._mask=null);a._gameObject=null;return!0}return!1};c.prototype.init=function(){var a,c;if(!this._initialized&&!this._destroyed){a=0;for(c=this._components.length;a<c;a++)this._components[a].init();
a=0;for(c=this._children.length;a<c;a++)this._children[a].init();this._initialized=!0}};c.prototype.destroy=function(){var a,c;if(!this._destroyed&&this._initialized){a=0;for(c=this._components.length;a<c;a++)this._components[a].destroy();a=0;for(c=this._children.length;a<c;a++)this._children[a].destroy();this._id&&delete f[this._id];this.clearAllListeners();this._destroyed=!0}};c.prototype.update=function(){var a,c,b;if(this._active){if(0<this._behaviours.length)for(a=0,c=this._behaviours.length;a<
c;a++)b=this._behaviours[a],b.enabled&&b.update();if(0<this._children.length)for(a=0,c=this._children.length;a<c;a++)this._children[a].update()}};c.prototype.visit=function(a,g,b){var d;if(this._active&&this._initialized&&!this._destroyed)for(this._transform.dirty&&(b|=c.MASK_TRANSFORM_DIRTY),(b&c.MASK_TRANSFORM_DIRTY)==c.MASK_TRANSFORM_DIRTY&&this._transform.transform(g),this._visible||(b&=~c.MASK_VISIBLE),(b&c.MASK_VISIBLE)===c.MASK_VISIBLE&&this.render(a,b),g=0,d=this._children.length;g<d;g++)this._children[g].visit(a,
this._transform,b);else(b&c.MASK_TRANSFORM_DIRTY)===c.MASK_TRANSFORM_DIRTY&&(this._transform.dirty=!0)};c.prototype.render=function(a,c){this._mask&&this._mask.render(a,c);this._renderer&&this._renderer.render(a,c)};c.prototype.getUnderPoint=function(a,c,b){void 0===b&&(b=!1);var d,f;if(!this._active||!this._visible)return null;f=this._children;if(0<f.length)for(var h=f.length-1;0<=h;h--)if(d=f[h],d=d.getUnderPoint(a,c,b))return d;if(!b||this._touchable)if(a=this.transform.globalToLocal(a,c),this.testHit(a.x,
a.y))return this;return null};c.prototype.testHit=function(a,c){var b=this._collider;return b&&b.collideXY(a,c)};c.prototype.checkComponentDependency=function(a){for(var c=a.listRequiredComponents(),b=!0,d=0,f=c.length;d<f;d++)a=c[d],b=b&&this.hasComponent(a);return b};c.MASK_TRANSFORM_DIRTY=1;c.MASK_VISIBLE=16;return c}(d.event.EventDispatcher);d.GameObject=b})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(f){function b(){f.call(this);this.name=this.id=b.ID;this._rootTransform=new d.Transform;this._viewRectTransform=new d.RectTransform;this._viewRectTransform.anchorMode=d.RectTransform.ANCHOR_TOP|d.RectTransform.ANCHOR_LEFT;this._viewRectTransform.width=d.Director.getInstance().renderer.viewport.width;this._viewRectTransform.height=d.Director.getInstance().renderer.viewport.height;this.init()}__extends(b,f);Object.defineProperty(b.prototype,"viewRectTransform",{get:function(){return this._viewRectTransform},
enumerable:!0,configurable:!0});b.prototype.visitStage=function(a){f.prototype.visit.call(this,a,this._rootTransform,d.GameObject.MASK_VISIBLE)};b.ID="WOZLLAStage";return b}(d.GameObject);d.Stage=h})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(){function d(){}d.update=function(b){var a=Date.now()+this._nowIncrease;this.now?(this.delta=(a-this.now)*b,this._nowIncrease+=this.delta*(b-1),this.now+=this.delta,this.measuredFPS=1E3/this.delta):(this.now=a,this.delta=1E3/60)};d.reset=function(){this.measuredFPS=this._nowIncrease=this.now=this.delta=0};d.delta=0;d.now=0;d.measuredFPS=0;d._nowIncrease=0;return d}();d.Time=h})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(){function f(){this._scheduleCount=0;this._schedules={};this._runScheduleCount=0}f.getInstance=function(){f.instance||(f.instance=new f);return f.instance};f.prototype.runSchedule=function(){var b,a;this._runScheduleCount=0;for(b in this._schedules)a=this._schedules[b],a.isFrame&&!a.paused?(a.frame--,0>a.frame&&(delete this._schedules[b],a.task.apply(a,a.args))):a.isTime&&!a.paused?(a.time-=d.Time.delta,0>a.time&&(delete this._schedules[b],a.task.apply(a,a.args))):a.isInterval&&
!a.paused?(a.time-=d.Time.delta,0>a.time&&(a.task.apply(a,a.args),a.time+=a.intervalTime)):a.isLoop&&!a.paused&&a.task.apply(a,a.args),this._runScheduleCount++};f.prototype.removeSchedule=function(b){delete this._schedules[b]};f.prototype.scheduleLoop=function(b,a){var c="Schedule_"+this._scheduleCount++;this._schedules[c]={task:b,args:a,isLoop:!0};return c};f.prototype.scheduleFrame=function(b,a,c){var e="Schedule_"+this._scheduleCount++;this._schedules[e]={task:b,frame:a||0,args:c,isFrame:!0};return e};
f.prototype.scheduleInterval=function(b,a,c){var e="Schedule_"+this._scheduleCount++;this._schedules[e]={task:b,intervalTime:a,time:a,args:c,isInterval:!0};return e};f.prototype.scheduleTime=function(b,a,c){var e="Schedule_"+this._scheduleCount++;this._schedules[e]={task:b,time:a||0,args:c,isTime:!0};return e};f.prototype.resumeSchedule=function(b){this._schedules[b].paused=!1};f.prototype.pauseSchedule=function(b){this._schedules[b].paused=!0};return f}();d.Scheduler=h})(WOZLLA||(WOZLLA={}));
(function(d){function h(a){for(var c={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)c.x+=a.offsetLeft,c.y+=a.offsetTop;return c}var f=function(a){function c(c){a.call(this,c.type,c.bubbles,c.data);this.touchMoveDetection=!1;this.x=c.x;this.y=c.y;this.touch=c.touch;this.touchMoveDetection=c.touchMoveDetection;this.gesture=c.gesture;this.identifier=c.identifier}__extends(c,a);c.prototype.setTouchMoveDetection=function(a){this.touchMoveDetection=a};return c}(d.event.Event);d.GestureEvent=f;var b=function(){function a(c,
e){void 0===e&&(e=1);this.enabled=!0;this.canvasOffset=this.canvas=null;this.channelMap={};var b=this,n=window.navigator;b.canvas=c;b.canvasOffset=h(c);b.touchScale=e;Hammer(n.isCocoonJS?document:c,{transform:!1,doubletap:!1,hold:!1,rotate:!1,pinch:!1}).on(a.enabledGestures||"touch release tap swipe drag dragstart dragend",function(a){("release"===a.type||b.enabled)&&d.Scheduler.getInstance().scheduleFrame(function(){b.onGestureEvent(a)})})}a.setEanbledGestures=function(a){this.enabledGestures=a};
a.prototype.onGestureEvent=function(a){var e,b,n,f,k,h,q,l,m=a.type,u=d.Director.getInstance().stage,t=this.touchScale||1;if(q=a.gesture.srcEvent.changedTouches)for(f=q.length,n=0;n<f;n++)b=q[n],k=parseInt(b.identifier),e=b.pageX-this.canvasOffset.x,b=b.pageY-this.canvasOffset.y,e*=t,b*=t,"touch"===m&&(l=u.getUnderPoint(e,b,!0))&&(this.channelMap[k]=this.createDispatchChanel(l),delete this.channelMap[k-10]),(h=this.channelMap[k])&&h.onGestureEvent(a,l,e,b,k);else k=1,e=a.gesture.srcEvent.pageX-this.canvasOffset.x,
b=a.gesture.srcEvent.pageY-this.canvasOffset.y,e*=t,b*=t,"touch"===m&&((l=u.getUnderPoint(e,b,!0))?this.channelMap[k]=this.createDispatchChanel(l):delete this.channelMap[k]),(h=this.channelMap[k])&&h.onGestureEvent(a,l,e,b,k)};a.prototype.createDispatchChanel=function(a){var e=!0;return{onGestureEvent:function(b,n,h,k,r){var q=b.type,l=d.Director.getInstance().stage;switch(q){case "drag":if(!e){n=a;break}case "tap":case "release":n=l.getUnderPoint(h,k,!0)}if("tap"!==q||a===n)b=new f({x:h,y:k,type:q,
bubbles:!0,touch:n,gesture:b.gesture,identifier:r,touchMoveDetection:!1}),a.dispatchEvent(b),e=b.touchMoveDetection}}};return a}();d.Touch=b})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){}b.getGLContext=function(a,c){var e,b=c||{},d={alpha:!0,antialias:!0,premultipliedAlpha:!1,stencil:!0},f;for(f in d)"undefined"===typeof b[f]&&(b[f]=d[f]);c=b;try{e=a.getContext("experimental-webgl",c)}catch(k){try{e=a.getContext("webgl",c)}catch(h){}}return e};b.compileShader=function(a,c,b){c=a.createShader(c);a.shaderSource(c,b);a.compileShader(c);return a.getShaderParameter(c,a.COMPILE_STATUS)?c:(console.log(a.getShaderInfoLog(c)),null)};
b.compileProgram=function(a,c,e){c=b.compileShader(a,a.VERTEX_SHADER,c);e=b.compileShader(a,a.FRAGMENT_SHADER,e);var g=a.createProgram();a.attachShader(g,c);a.attachShader(g,e);a.linkProgram(g);a.getProgramParameter(g,a.LINK_STATUS)||console.log("Could not initialise program");return{program:g,vertexShader:c,fragmentShader:e}};return b}();d.WebGLUtils=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){d=d.renderer||(d.renderer={});(d.ILayerManager||(d.ILayerManager={})).DEFAULT="default"})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){this._layerIndexMap={};this._sortedLayers=[];this.define(d.ILayerManager.DEFAULT,0)}b.prototype.define=function(a,c){var b=this;if(this._layerIndexMap[a])throw Error("Layer has been defined: "+a);this._layerIndexMap[a]=c;this._sortedLayers.push(a);this._sortedLayers.sort(function(a,c){return b.getZIndex(a)-b.getZIndex(c)})};b.prototype.undefine=function(a){this._sortedLayers.splice(this._sortedLayers.indexOf(a),1);delete this._layerIndexMap[a]};
b.prototype.getZIndex=function(a){return this._layerIndexMap[a]};b.prototype.getSortedLayers=function(){return this._sortedLayers.slice(0)};b.prototype._getSortedLayers=function(){return this._sortedLayers};return b}();d.LayerManager=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c){this._srcFactor=a;this._distFactor=c}Object.defineProperty(b.prototype,"srcFactor",{get:function(){return this._srcFactor},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"distFactor",{get:function(){return this._distFactor},enumerable:!0,configurable:!0});b.prototype.applyBlend=function(a){a.blendFunc(this._srcFactor,this._distFactor)};b.NORMAL=1;b.ADD=2;b.MULTIPLY=3;b.SCREEN=4;return b}();d.BlendType=f})(d.renderer||(d.renderer=
{}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c,b){this._id=a;this._shaderProgramId=c;this._blendType=b}Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"shaderProgramId",{get:function(){return this._shaderProgramId},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"blendType",{get:function(){return this._blendType},enumerable:!0,configurable:!0});b.prototype.equals=function(a){return a.blendType===
this._blendType&&a.shaderProgramId===this._shaderProgramId};return b}();d.Material=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.IMaterial||(d.IMaterial={})).DEFAULT="Builtin_default"})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.IShaderProgram||(d.IShaderProgram={})).V2T2C1A1="Builtin_V2T2C1A1"})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){this._materialMap={};this._materialMap[d.IMaterial.DEFAULT]=this.createMaterial(d.IMaterial.DEFAULT,d.IShaderProgram.V2T2C1A1,d.BlendType.NORMAL)}b.prototype.createMaterial=function(a,c,b){c=new d.Material(a,c,b);return this._materialMap[a]=c};b.prototype.getMaterial=function(a){return this._materialMap[a]};b.prototype.deleteMaterial=function(a){delete this._materialMap[a.id]};b.prototype.clear=function(){this._materialMap={}};return b}();d.MaterialManager=
f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c,b){this._id=a;this._vertexShader=c;this._fragmentShader=b}Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"vertexShader",{get:function(){return this._vertexShader},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"fragmentShader",{get:function(){return this._fragmentShader},enumerable:!0,configurable:!0});b.prototype.useProgram=function(a){a.useProgram(this._id)};
b.prototype.syncUniforms=function(a,c){};return b}();d.ShaderProgram=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){(function(f){var b=function(a){function c(c,b,d){a.call(this,c,b,d);this._locations={initialized:!1}}__extends(c,a);c.prototype.useProgram=function(c){a.prototype.useProgram.call(this,c);this._locations.initialized||(this._initLocaitions(c),this._locations.initialized=!0);this._activate(c)};c.prototype.syncUniforms=function(a,c){a.uniform2f(this._locations.projectionVector,c.projection.x,c.projection.y)};c.prototype._initLocaitions=function(a){var c=this._id;this._locations.uSampler=
a.getUniformLocation(c,"uSampler");this._locations.projectionVector=a.getUniformLocation(c,"projectionVector");this._locations.offsetVector=a.getUniformLocation(c,"offsetVector");this._locations.aVertexPosition=a.getAttribLocation(c,"aVertexPosition");this._locations.aTextureCoord=a.getAttribLocation(c,"aTextureCoord");this._locations.aColor=a.getAttribLocation(c,"aColor")};c.prototype._activate=function(a){a.activeTexture(a.TEXTURE0);var c=4*h.Quad.V2T2C1A1.strade;a.vertexAttribPointer(this._locations.aVertexPosition,
2,a.FLOAT,!1,c,0);a.vertexAttribPointer(this._locations.aTextureCoord,2,a.FLOAT,!1,c,8);a.vertexAttribPointer(this._locations.aColor,2,a.FLOAT,!1,c,16);a.enableVertexAttribArray(this._locations.aVertexPosition);a.enableVertexAttribArray(this._locations.aTextureCoord);a.enableVertexAttribArray(this._locations.aColor)};c.VERTEX_SOURCE="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nuniform vec2 offsetVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\ngl_Position = vec4( ((aVertexPosition + offsetVector) / projectionVector) + center , 0.0, 1.0);\nvTextureCoord = aTextureCoord;\nvec3 color = mod(vec3(aColor.y/65536.0, aColor.y/256.0, aColor.y), 256.0) / 256.0;\nvColor = vec4(color * aColor.x, aColor.x);\n}";
c.FRAGMENT_SOURCE="precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\ngl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}";return c}(d.renderer.ShaderProgram);f.V2T2C1A1=b})(h.shader||(h.shader={}))})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a){this._gl=a;this._shaderMap={};this._shaderMap[d.IShaderProgram.V2T2C1A1]=this.createShaderProgram(d.shader.V2T2C1A1.VERTEX_SOURCE,d.shader.V2T2C1A1.FRAGMENT_SOURCE,d.shader.V2T2C1A1)}b.prototype.getShaderProgram=function(a){return this._shaderMap[a]};b.prototype.createShaderProgram=function(a,c,b){void 0===b&&(b=d.ShaderProgram);a=d.WebGLUtils.compileProgram(this._gl,a,c);b=new b(a.program,a.vertexShader,a.fragmentShader);return this._shaderMap[b.id]=
b};b.prototype.deleteShaderProgram=function(a){this._gl.deleteProgram(a.id);this._gl.deleteShader(a.vertexShader);this._gl.deleteShader(a.fragmentShader);delete this._shaderMap[a.id]};b.prototype.clear=function(){for(var a in this._shaderMap)this.deleteShaderProgram(this._shaderMap[a])};return b}();d.ShaderManager=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c){this._id=a;this._descriptor=c}Object.defineProperty(b.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"descriptor",{get:function(){return this._descriptor},enumerable:!0,configurable:!0});b.prototype.bind=function(a){a.bindTexture(a.TEXTURE_2D,this._id)};return b}();d.Texture=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){function f(a){return 0===(a&a-1)}var b=function(){function a(a){this._gl=a;this._textureMap={}}a.prototype.getTexture=function(a){return this._textureMap[a]};a.prototype.generateTexture=function(a){var b,g=this._gl,n=g.createTexture();g.bindTexture(g.TEXTURE_2D,n);g.pixelStorei(g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR);f(a.width)&&f(a.height)?(g.texParameteri(g.TEXTURE_2D,
g.TEXTURE_WRAP_S,g.REPEAT),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE));switch(a.textureFormat){case 0:case 1:g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,a.source);break;case 2:switch(a.pixelFormat){case 5:b=d.WebGLExtension.getExtension(g,d.WebGLExtension.PVRTC);b=b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;break;case 4:b=d.WebGLExtension.getExtension(g,
d.WebGLExtension.PVRTC);b=b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;break;default:throw Error("Unsupported pixel format: "+a.pixelFormat);}g.compressedTexImage2D(g.TEXTURE_2D,0,b,a.width,a.height,0,a.source);break;default:throw Error("Unsupported texture format: "+a.textureFormat);}a=new d.Texture(n,a);return this._textureMap[n]=a};a.prototype.deleteTexture=function(a){this._gl.deleteTexture(a.id);delete this._textureMap[a.id]};a.prototype.clear=function(){for(var a in this._textureMap)this.deleteTexture(this._textureMap[a])};
return a}();d.TextureManager=b})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){function f(a,c){return a.globalZ===c.globalZ?a._addIndex-c._addIndex:a.globalZ-c.globalZ}var b=function(){function b(a,e){this._commandQueueMap={};this._blendModes={};this._uniforms={};this._gl=a;this._viewport=e;this._blendModes[d.BlendType.NORMAL]=new d.BlendType(a.ONE,a.ONE_MINUS_SRC_ALPHA);this._blendModes[d.BlendType.ADD]=new d.BlendType(a.SRC_ALPHA,a.DST_ALPHA);this._blendModes[d.BlendType.MULTIPLY]=new d.BlendType(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA);this._blendModes[d.BlendType.SCREEN]=
new d.BlendType(a.SRC_ALPHA,a.ONE);this._layerManager=new d.LayerManager;this._materialManager=new d.MaterialManager;this._shaderManager=new d.ShaderManager(a);this._textureManager=new d.TextureManager(a);this._quadBatch=new c(a);this._uniforms.projection={x:e.width/2,y:-e.height/2};a.disable(a.DEPTH_TEST);a.disable(a.CULL_FACE);a.enable(a.BLEND)}Object.defineProperty(b.prototype,"layerManager",{get:function(){return this._layerManager},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,
"materialManager",{get:function(){return this._materialManager},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"shaderManager",{get:function(){return this._shaderManager},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"textureManager",{get:function(){return this._textureManager},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"gl",{get:function(){return this._gl},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"viewport",{get:function(){return this._viewport},
enumerable:!0,configurable:!0});b.prototype.addCommand=function(c){var b=c.layer,e=this._commandQueueMap[b];e||(e=this._commandQueueMap[b]=new a(b));e.add(c)};b.prototype.render=function(){var a=this,c,b,e,f=this._gl;f.viewport(0,0,this._viewport.width,this._viewport.height);f.clearColor(0,0,0,0);f.clear(f.COLOR_BUFFER_BIT);this._eachCommand(function(f){c?c instanceof d.CustomCommand?a.flush():f instanceof d.CustomCommand?a.flush():f.materialId!==e.id?a.flush():f.texture!==b&&a.flush():a.flush();
f instanceof d.CustomCommand?f.execute(a):(a._quadBatch.canFill(f.quad)||a.flush(),a._quadBatch.fillQuad(f.quad));a._usingMaterial=e=a._materialManager.getMaterial(f.materialId);a._usingTexture=b=f.texture;c=f});c&&(this.flush(),this._clearCommands(),this._usingMaterial=this._usingTexture=null)};b.prototype.flush=function(){var a,c;this._usingMaterial&&(a=this._gl,c=this._shaderManager.getShaderProgram(this._usingMaterial.shaderProgramId),c.useProgram(a),c.syncUniforms(a,this._uniforms),this._blendModes[this._usingMaterial.blendType].applyBlend(a),
this._usingTexture&&this._usingTexture.bind(a),this._quadBatch.flush(a))};b.prototype._clearCommands=function(){var a=this._commandQueueMap,c;for(c in a)a[c].clear()};b.prototype._eachCommand=function(a){var c,b,e,d,f,h,m,u=this._commandQueueMap,t=this._layerManager._getSortedLayers();c=0;for(b=t.length;c<b;c++)if(e=t[c],f=u[e]){h=f.negativeZQueue;if(0<h.length)for(e=0,d=h.length;e<d;e++)m=h[e],a(m);h=f.zeroZQueue;if(0<h.length)for(e=0,d=h.length;e<d;e++)m=h[e],a(m);h=f.positiveZQueue;if(0<h.length)for(e=
0,d=h.length;e<d;e++)m=h[e],a(m)}};b.MAX_QUAD_SIZE=500;return b}();d.Renderer=b;var a=function(){function a(c){this._addIndex=0;this.negativeZQueue=[];this.zeroZQueue=[];this.positiveZQueue=[];this.layer=c}a.prototype.add=function(a){a._addIndex=this._addIndex++;0===a.globalZ?this.zeroZQueue.push(a):0<a.globalZ?this.positiveZQueue.push(a):this.negativeZQueue.push(a)};a.prototype.clear=function(){var a,c,b;a=0;for(c=this.negativeZQueue.length;a<c;a++)b=this.negativeZQueue[a],b.isPoolable&&b.release();
a=0;for(c=this.zeroZQueue.length;a<c;a++)b=this.zeroZQueue[a],b.isPoolable&&b.release();a=0;for(c=this.positiveZQueue.length;a<c;a++)b=this.positiveZQueue[a],b.isPoolable&&b.release();this.negativeZQueue.length=0;this.zeroZQueue.length=0;this._addIndex=this.positiveZQueue.length=0};a.prototype.sort=function(){this.positiveZQueue.sort(f);this.negativeZQueue.sort(f)};return a}(),c=function(){function a(c){this._size=b.MAX_QUAD_SIZE;this._curBatchSize=this._curVertexIndex=0;this._gl=c;this._initBuffers()}
Object.defineProperty(a.prototype,"vertexBuffer",{get:function(){return this._vertexBuffer},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"indexBuffer",{get:function(){return this._indexBuffer},enumerable:!0,configurable:!0});a.prototype.canFill=function(a){return this._curVertexIndex<this._size};a.prototype.fillQuad=function(a){var c,b,e=this._vertices;c=this._curVertexIndex;if(a.count===a.renderCount)e.set(a.storage,c);else{var d=0,f=a.renderOffset*a.type.size,h=a.renderCount*
a.type.size;for(b=a.storage;d<h;f++,d++)e[c+d]=b[f]}this._curVertexIndex+=a.renderCount*a.type.size;this._curBatchSize+=a.renderCount};a.prototype.flush=function(a){0!==this._curBatchSize&&(a.bindBuffer(a.ARRAY_BUFFER,this._vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this._vertices,a.DYNAMIC_DRAW),a.drawElements(a.TRIANGLES,6*this._curBatchSize,a.UNSIGNED_SHORT,0),this._curBatchSize=this._curVertexIndex=0)};a.prototype._initBuffers=function(){var a,c,b=this._gl,e=6*this._size;this._vertices=new Float32Array(24*
this._size);this._indices=new Uint16Array(e);for(c=a=0;a<e;a+=6,c+=4)this._indices[a]=c,this._indices[a+1]=c+1,this._indices[a+2]=c+2,this._indices[a+3]=c,this._indices[a+4]=c+2,this._indices[a+5]=c+3;this._vertexBuffer=b.createBuffer();this._indexBuffer=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this._indexBuffer);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this._indices,b.STATIC_DRAW);b.bindBuffer(b.ARRAY_BUFFER,this._vertexBuffer);b.bufferData(b.ARRAY_BUFFER,this._vertices,b.DYNAMIC_DRAW)};return a}()})(d.renderer||
(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){var h=window.requestAnimationFrame||window.msRequestAnimationFrame||function(b,a){void 0===a&&(a=1E3/62);setTimeout(b,a)},f=function(){function b(a,c){void 0===c&&(c={});this._paused=this._runing=!1;this._timeScale=1;b.instance=this;this._view="string"===typeof a?document.getElementById("canvas"):a;this._scheduler=d.Scheduler.getInstance();this._assetLoader=d.assets.AssetLoader.getInstance();this._touch=new d.Touch(a,c.touchScale);this._renderer=new d.renderer.Renderer(d.renderer.WebGLUtils.getGLContext(a,
c.renderer),{x:0,y:0,width:a.width,height:a.height});this._stage=new d.Stage}b.getInstance=function(){return b.instance};Object.defineProperty(b.prototype,"view",{get:function(){return this._view},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"touch",{get:function(){return this._touch},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"scheduler",{get:function(){return this._scheduler},
enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"renderer",{get:function(){return this._renderer},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"assetLoader",{get:function(){return this._assetLoader},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"viewRectTransform",{get:function(){return this._stage.viewRectTransform},enumerable:!0,configurable:!0});b.prototype.start=function(){var a=this,c;this._runing||(this._runing=!0,d.Time.reset(),c=function(){a._runing&&
h(c);a.runStep()},h(c))};b.prototype.stop=function(){this._runing=!1};b.prototype.runStep=function(a){void 0===a&&(a=this._timeScale);d.Time.update(a);this._stage.update();this._stage.visitStage(this._renderer);this._renderer.render();this._scheduler.runSchedule();d.utils.Tween.tick(d.Time.delta)};return b}();d.Director=f})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(a){function c(c){a.call(this,c)}__extends(c,a);Object.defineProperty(c.prototype,"glTexture",{get:function(){return this._glTexture},enumerable:!0,configurable:!0});c.prototype._generateTexture=function(a){var c=d.Director.getInstance().renderer;if(!c)throw Error("Director not initialized");this._glTexture=c.textureManager.generateTexture(new b(a))};c.prototype._generatePVRTexture=function(a){throw Error("Unsupported now");};return c}(h.Asset);h.GLTextureAsset=
f;var b=function(){function a(a){this._source=a;this._pixelFormat=this._textureFormat=0}Object.defineProperty(a.prototype,"width",{get:function(){return this._source.width},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return this._source.height},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureFormat",{get:function(){return this._textureFormat},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pixelFormat",{get:function(){return this._pixelFormat},enumerable:!0,configurable:!0});return a}();h.HTMLImageDescriptor=b;f=function(){function a(a,b){this._source=a;this._textureFormat=2;this._pixelFormat=b}Object.defineProperty(a.prototype,"width",{get:function(){return this._source.width},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"height",{get:function(){return this._source.height},enumerable:!0,configurable:!0});
Object.defineProperty(a.prototype,"source",{get:function(){return this._source},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"textureFormat",{get:function(){return this._textureFormat},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pixelFormat",{get:function(){return this._pixelFormat},enumerable:!0,configurable:!0});return a}();h.PVRDescriptor=f})(d.assets||(d.assets={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c,b){this._spriteAtlas=a;this._frame=c;this._name=b}Object.defineProperty(b.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0});return b}();d.Sprite=f})(d.assets||(d.assets={}))})(WOZLLA||
(WOZLLA={}));
(function(d){(function(d){function f(a,c){for(var b in c)"undefined"===typeof a[b]&&(a[b]=c[b]);return a}var b={json:function(a){return JSON.parse(a.responseText)},arraybuffer:function(a){return a.response}},a=function(){},c=function(){function c(){}c.request=function(d){void 0===d&&(d={});var n,h;d=f(d,{url:"",async:!0,method:"GET",contentType:"text",responseType:"text/plain",timeout:3E4,success:a,error:a});n=new XMLHttpRequest;n.responseType=d.responseType;n.onreadystatechange=function(){var c;4===
n.readyState&&(n.onreadystatechange=a,clearTimeout(h),c=b[d.contentType]||function(){return n.responseText},d.success(c(n)))};n.open(d.method,d.url,d.async);h=setTimeout(function(){n.onreadystatechange=a;n.abort();d.error({code:c.ERROR_TIMEOUT,message:"request timeout"})},d.timeout);n.send()};c.ERROR_TIMEOUT=1;c.ERROR_SERVER=2;return c}();d.Ajax=c})(d.utils||(d.utils={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){function f(a){var b=a.lastIndexOf("/");return-1!==b?a.substr(b+1,a.length):a}var b=/(\.png|\.jpg)$/i,a=function(a){function e(b){a.call(this,b);this._spriteCache={}}__extends(e,a);Object.defineProperty(e.prototype,"imageSrc",{get:function(){return this._imageSrc},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"metaSrc",{get:function(){return this._metaSrc},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"sourceImage",{get:function(){return this._sourceImage},
enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"spriteData",{get:function(){return this._spriteData},enumerable:!0,configurable:!0});e.prototype.getSprite=function(a){var c;return a?(c=this._spriteCache[a])?c:this._spriteData?(c=this._spriteData.frames[a])?(c=new h.Sprite(this,{x:c.frame.x,y:c.frame.y,width:c.frame.w,height:c.frame.h},a),this._spriteCache[a]=c):null:null:this._entireSprite};e.prototype.load=function(a,c){var e=this;b.test(this.src)?(this._imageSrc=this.src,this._loadImage(function(b,
d){b?c&&c(b):(e._generateTexture(d),e._sourceImage=d,e._entireSprite=new h.Sprite(e,{x:0,y:0,width:d.width,height:d.height}),a&&a())})):(this._metaSrc=this.src,this._loadSpriteAtlas(function(b,d,f){b?c&&c(b):(e._sourceImage=d,e._generateTexture(d),e._entireSprite=new h.Sprite(e,{x:0,y:0,width:d.width,height:d.height}),e._spriteData=f,a&&a())}))};e.prototype._loadImage=function(a){var c=this,b=new Image;b.src=this._imageSrc;b.onload=function(){a&&a(null,b)};b.onerror=function(){a("Fail to load image: "+
c._imageSrc)}};e.prototype._loadSpriteAtlas=function(a){var c=this;d.utils.Ajax.request({url:c._metaSrc,contentType:"json",success:function(b){var e=b.meta.image,d=f(c._metaSrc);c._imageSrc=c._metaSrc.replace(new RegExp(d+"$"),e);c._loadImage(function(c,e){c?a&&a(c):a&&a(null,e,b)})},error:function(c){a("Fail to load sprite: "+this._metaSrc+", "+c.code+":"+c.message)}})};return e}(h.GLTextureAsset);h.SpriteAtlas=a})(d.assets||(d.assets={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c,b,d){this.x=a;this.y=c;this.width=b;this.height=d}Object.defineProperty(b.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"bottom",{get:function(){return this.y+
this.height},enumerable:!0,configurable:!0});b.prototype.containsXY=function(a,c){return this.x<=a&&this.right>a&&this.y<=c&&this.bottom>c};b.prototype.toString=function(){return"Rectangle["+this.x+","+this.y+","+this.width+","+this.height+"]"};return b}();d.Rectangle=f})(d.math||(d.math={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.collideXY=function(a,b){return this.region&&this.region.containsXY(a,b)};a.prototype.collide=function(a){return!1};return a}(d.Collider);h.CircleCollider=f})(d.component||(d.component={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.prototype.collideXY=function(a,b){return!0};a.prototype.collide=function(a){return!1};return a}(d.Collider);h.MaskCollider=f})(d.component||(d.component={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);a.fromSpriteRenderer=function(a){var b=new d.component.RectCollider,g=a.sprite.frame;a=a.spriteOffset;b.region=new d.math.Rectangle(0-g.width*a.x,0-g.height*a.y,g.width,g.height);return b};a.prototype.collideXY=function(a,b){return this.region&&this.region.containsXY(a,b)};a.prototype.collide=function(a){return!1};return a}(d.Collider);h.RectCollider=f})(d.component||(d.component={}))})(WOZLLA||(WOZLLA=
{}));(function(d){(function(d){var f=function(){function b(a,c){this._globalZ=a;this._layer=c}Object.defineProperty(b.prototype,"globalZ",{get:function(){return this._globalZ},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0});return b}();d.RenderCommandBase=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(b){function a(a,e){b.call(this,a,e)}__extends(a,b);a.prototype.execute=function(a){throw Error("abstract method");};return a}(d.RenderCommandBase);d.CustomCommand=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(c){function e(){c.apply(this,arguments);this.reverse=!1;this._endGlobalZ=this._startGlobalZ=0;this._maskLayer=d.renderer.ILayerManager.DEFAULT}__extends(e,c);e.prototype.setMaskRange=function(a,c,b){void 0===b&&(b=d.renderer.ILayerManager.DEFAULT);this._startGlobalZ=a;this._endGlobalZ=c;this._maskLayer=b};e.prototype.render=function(c,e){c.addCommand(new f(this._startGlobalZ,this._maskLayer));this.renderMask(c,e);c.addCommand(new b(this._startGlobalZ,this._maskLayer,this.reverse));
c.addCommand(new a(this._endGlobalZ,this._maskLayer))};e.prototype.renderMask=function(a,c){};return e}(d.Component);d.Mask=h;var f=function(a){function b(e,d){a.call(this,e,d)}__extends(b,a);b.prototype.execute=function(a){a=a.gl;a.enable(a.STENCIL_TEST);a.clear(a.STENCIL_BUFFER_BIT);a.colorMask(!1,!1,!1,!1);a.stencilFunc(a.ALWAYS,1,0);a.stencilOp(a.KEEP,a.KEEP,a.REPLACE)};return b}(d.renderer.CustomCommand),b=function(a){function b(d,e,f){a.call(this,d,e);this.reverse=f}__extends(b,a);b.prototype.execute=
function(a){a=a.gl;a.colorMask(!0,!0,!0,!0);a.stencilOp(a.KEEP,a.KEEP,a.KEEP);a.stencilFunc(this.reverse?a.NOTEQUAL:a.EQUAL,1,255)};return b}(d.renderer.CustomCommand),a=function(a){function b(d,e){a.call(this,d,e)}__extends(b,a);b.prototype.execute=function(a){a.gl.disable(a.gl.STENCIL_TEST)};return b}(d.renderer.CustomCommand)})(WOZLLA||(WOZLLA={}));
(function(d){var h=function(d){function b(){d.apply(this,arguments)}__extends(b,d);b.prototype.render=function(a,c){};return b}(d.Component);d.Renderer=h})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function a(a){this._info=a}Object.defineProperty(a.prototype,"size",{get:function(){return 4*this.strade},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"strade",{get:function(){return this._info[0]},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"vertexIndex",{get:function(){return this._info[1]},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"texCoordIndex",{get:function(){return this._info[2]},enumerable:!0,
configurable:!0});Object.defineProperty(a.prototype,"alphaIndex",{get:function(){return this._info[3]},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"colorIndex",{get:function(){return this._info[4]},enumerable:!0,configurable:!0});return a}();d.QuadType=f;var b=function(){function a(c,b){void 0===b&&(b=a.V2T2C1A1);this._count=c;this._type=b;this._storage=Array(b.size*c);this._renderOffset=0;this._renderCount=c}Object.defineProperty(a.prototype,"storage",{get:function(){return this._storage},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"count",{get:function(){return this._count},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"renderOffset",{get:function(){return this._renderOffset},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"renderCount",{get:function(){return this._renderCount},enumerable:!0,configurable:!0});a.prototype.setRenderRange=
function(a,b){this._renderOffset=a;this._renderCount=b};a.prototype.setVertices=function(a,b,d,f,h,k,r,q,l){void 0===l&&(l=0);var m=this._type.strade;l=this._type.size*l+this._type.vertexIndex;this._storage[0+l]=a;this._storage[1+l]=b;this._storage[0+l+1*m]=d;this._storage[1+l+1*m]=f;this._storage[0+l+2*m]=h;this._storage[1+l+2*m]=k;this._storage[0+l+3*m]=r;this._storage[1+l+3*m]=q};a.prototype.setTexCoords=function(a,b,d,f,h,k,r,q,l){void 0===l&&(l=0);var m=this._type.strade;l=this._type.size*l+
this._type.texCoordIndex;this._storage[0+l]=a;this._storage[1+l]=b;this._storage[0+l+1*m]=d;this._storage[1+l+1*m]=f;this._storage[0+l+2*m]=h;this._storage[1+l+2*m]=k;this._storage[0+l+3*m]=r;this._storage[1+l+3*m]=q};a.prototype.setAlpha=function(a,b){void 0===b&&(b=0);var d=this._type.strade,f=this._type.size*b+this._type.alphaIndex;this._storage[f]=a;this._storage[f+1*d]=a;this._storage[f+2*d]=a;this._storage[f+3*d]=a};a.prototype.setColor=function(a,b){void 0===b&&(b=0);var d=this._type.strade,
f=this._type.size*b+this._type.colorIndex;this._storage[f]=a;this._storage[f+1*d]=a;this._storage[f+2*d]=a;this._storage[f+3*d]=a};a.V2T2C1A1=new f([6,0,2,4,5]);return a}();d.Quad=b})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,c){this._minCount=a;this._factory=c;this._pool=[];for(var b=0;b<this._minCount;b++)this._pool.push(this._factory())}b.prototype.retain=function(){var a=this._pool.shift();return a?a:this._factory()};b.prototype.release=function(a){-1===this._pool.indexOf(a)&&this._pool.push(a)};return b}();d.ObjectPool=f})(d.utils||(d.utils={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f,b=function(a){function c(c,b){a.call(this,c,b);this.isPoolable=!0}__extends(c,a);c.init=function(a,c,b,d,k){var h=f.retain();h.initWith(a,c,b,d,k);return h};Object.defineProperty(c.prototype,"texture",{get:function(){return this._texture},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"materialId",{get:function(){return this._materialId},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"quad",{get:function(){return this._quad},enumerable:!0,
configurable:!0});c.prototype.initWith=function(a,c,b,d,f){this._globalZ=a;this._layer=c;this._texture=b;this._materialId=d;this._quad=f};c.prototype.release=function(){f.release(this)};return c}(h.RenderCommandBase);h.QuadCommand=b;f=new d.utils.ObjectPool(200,function(){return new b(0,h.ILayerManager.DEFAULT)})})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=d.renderer.QuadCommand,b=function(a){function c(){a.apply(this,arguments);this._quadLayer=d.renderer.ILayerManager.DEFAULT;this._quadMaterialId=d.renderer.IMaterial.DEFAULT;this._quadGlobalZ=0;this._quadAlpha=1;this._quadColor=16777215;this._quadColorDirty=this._quadAlphaDirty=this._quadVertexDirty=!0;this._textureUpdated=!1}__extends(c,a);c.prototype.setQuadRenderRange=function(a,c){this._quad.setRenderRange(a,c)};c.prototype.setQuadGlobalZ=function(a){this._quadGlobalZ=
a};c.prototype.setQuadLayer=function(a){this._quadLayer=a};c.prototype.setQuadMaterialId=function(a){this._quadMaterialId=a};c.prototype.setQuadAlpha=function(a){this._quadAlpha=a;this._quadAlphaDirty=!0};c.prototype.setQuadColor=function(a){this._quadColor=a;this._quadColorDirty=!0};c.prototype.setTexture=function(a){this._texture=a;this._textureUVS=null;this._textureUpdated=!0};c.prototype.setTextureFrame=function(a){this._textureFrame=a;this._textureUVS=null;this._textureUpdated=!0};c.prototype.setTextureOffset=
function(a){this._textureOffset=a;this._textureUpdated=!0};c.prototype.init=function(){this._initQuad();a.prototype.init.call(this)};c.prototype.render=function(a,c){this._texture&&((c&d.GameObject.MASK_TRANSFORM_DIRTY)===d.GameObject.MASK_TRANSFORM_DIRTY&&(this._quadVertexDirty=!0),this._textureUpdated&&this._updateQuad(),this._quadVertexDirty&&(this._updateQuadVertices(),this._quadVertexDirty=!1),this._quadAlphaDirty&&this._updateQuadAlpha(),this._quadColorDirty&&this._updateQuadColor(),a.addCommand(f.init(this._quadGlobalZ,
this._quadLayer,this._texture,this._quadMaterialId,this._quad)))};c.prototype._initQuad=function(){this._quad=new d.renderer.Quad(1)};c.prototype._getTextureFrame=function(){return this._textureFrame||{x:0,y:0,width:this._texture.descriptor.width,height:this._texture.descriptor.height}};c.prototype._getTextureOffset=function(){return this._textureOffset||{x:0,y:0}};c.prototype._getTextureUVS=function(){var a,c,b,d;if(this._textureUVS)return this._textureUVS;a=this._texture.descriptor.width;c=this._texture.descriptor.height;
b=this._textureFrame||{x:0,y:0,width:a,height:c};d={};d.x0=b.x/a;d.y0=b.y/c;d.x1=(b.x+b.width)/a;d.y1=b.y/c;d.x2=(b.x+b.width)/a;d.y2=(b.y+b.height)/c;d.x3=b.x/a;d.y3=(b.y+b.height)/c;return this._textureUVS=d};c.prototype._updateQuad=function(a){void 0===a&&(a=0);this._updateQuadVertices(a);this._updateQuadAlpha(a);this._updateQuadColor(a);this._textureUpdated=!1};c.prototype._updateQuadVertices=function(a){void 0===a&&(a=0);var c=this._getTextureUVS(),b=this._getTextureFrame(),d=this._getTextureOffset();
this._updateQuadVerticesByArgs(c,b,d,this._gameObject.transform.worldMatrix,a);this._quadVertexDirty=!1};c.prototype._updateQuadVerticesByArgs=function(a,c,b,d,f){void 0===f&&(f=0);var h=d.values[0],q=d.values[1],l=d.values[3],m=d.values[4],u=d.values[6];d=d.values[7];var t=-b.x*c.width,s=t+c.width;b=-b.y*c.height;c=b+c.height;this._quad.setVertices(h*t+l*b+u,m*b+q*t+d,h*s+l*b+u,m*b+q*s+d,h*s+l*c+u,m*c+q*s+d,h*t+l*c+u,m*c+q*t+d,f);this._quad.setTexCoords(a.x0,a.y0,a.x1,a.y1,a.x2,a.y2,a.x3,a.y3,f)};
c.prototype._clearQuadVertices=function(a){this._quad.setVertices(0,0,0,0,0,0,0,0);this._quad.setTexCoords(0,0,0,0,0,0,0,0)};c.prototype._updateQuadAlpha=function(a){void 0===a&&(a=0);this._quad.setAlpha(this._quadAlpha,a);this._quadAlphaDirty=!1};c.prototype._updateQuadColor=function(a){void 0===a&&(a=0);this._quad.setColor(this._quadColor,a);this._quadColorDirty=!1};return c}(d.Renderer);h.QuadRenderer=b})(d.component||(d.component={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(b){function a(){b.apply(this,arguments);this._helperGameObject=new d.GameObject}__extends(a,b);Object.defineProperty(a.prototype,"region",{get:function(){return this._region},set:function(a){this._region=a;this._helperGameObject.transform.setPosition(a.x,a.y);this._helperGameObject.transform.setScale(a.width,a.height)},enumerable:!0,configurable:!0});a.prototype.renderMask=function(a,b){this._region&&(this._maskQuadRenderer||this._initMaskQuadRenderer(a),this._helperGameObject.transform.dirty&&
(b|=d.GameObject.MASK_TRANSFORM_DIRTY),(b&d.GameObject.MASK_TRANSFORM_DIRTY)==d.GameObject.MASK_TRANSFORM_DIRTY&&this._helperGameObject.transform.transform(this.transform),this._maskQuadRenderer.setQuadGlobalZ(this._startGlobalZ),this._maskQuadRenderer.render(a,b))};a.prototype._initMaskQuadRenderer=function(a){var b=document.createElement("canvas"),g=b.getContext("2d");b.width=1;b.height=1;g.fillStyle="#FFFFFF";g.fillRect(0,0,b.width,b.height);b=new d.assets.HTMLImageDescriptor(b);a=a.textureManager.generateTexture(b);
this._maskQuadRenderer=new d.component.QuadRenderer;this._maskQuadRenderer.setTexture(a);this._helperGameObject.addComponent(this._maskQuadRenderer);this._helperGameObject.init()};return a}(d.Mask);h.RectMask=f})(d.component||(d.component={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(b){function a(){b.apply(this,arguments)}__extends(a,b);Object.defineProperty(a.prototype,"color",{get:function(){return this._quadColor},set:function(a){this.setQuadColor(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"alpha",{get:function(){return this._quadAlpha},set:function(a){this.setQuadAlpha(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"materialId",{get:function(){return this._quadMaterialId},set:function(a){this.setQuadMaterialId(a)},
enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"renderLayer",{get:function(){return this._quadLayer},set:function(a){this.setQuadLayer(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"renderOrder",{get:function(){return this._quadGlobalZ},set:function(a){this.setQuadGlobalZ(a)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sprite",{get:function(){return this._sprite},set:function(a){var b=this._sprite;(this._sprite=a)?(this.setTextureFrame(a.frame),
b&&b.spriteAtlas===a.spriteAtlas||this.setTexture(a.spriteAtlas.glTexture)):(this.setTexture(null),this.setTextureFrame(null))},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"spriteOffset",{get:function(){return this._getTextureOffset()},set:function(a){this.setTextureOffset(a)},enumerable:!0,configurable:!0});return a}(h.QuadRenderer);h.SpriteRenderer=f;d.Component.register(f,{name:"SpriteRenderer",properties:[{name:"color",type:"int"}]})})(d.component||(d.component={}))})(WOZLLA||
(WOZLLA={}));
(function(d){(function(h){var f=d.renderer.QuadCommand,b=function(a){function c(){a.apply(this,arguments)}__extends(c,a);Object.defineProperty(c.prototype,"renderRegion",{get:function(){return this._renderRegion},set:function(a){this._renderRegion=a},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"patch",{get:function(){return this._patch},set:function(a){this._patch=a;this._quadVertexDirty=!0},enumerable:!0,configurable:!0});c.prototype._initQuad=function(){this._quad=new d.renderer.Quad(9)};
c.prototype._updateNinePatchQuads=function(){this._updateNinePatchQuadVertices();this._updateNinePatchQuadAlpha();this._updateNinePatchQuadColor();this._textureUpdated=!1};c.prototype._updateNinePatchQuadVertices=function(){for(var a=new d.Transform,c=this._getTextureFrame(),b,f={x:0,y:0},h=this._patch||new d.math.Rectangle(0,0,c.width,c.height),r=this._renderRegion||h,c=[{frame:{x:c.x,y:c.y,width:h.left,height:h.top},pos:{x:r.x,y:r.y},size:{width:1,height:1}},{frame:{x:c.x+h.left,y:c.y,width:h.width,
height:h.top},pos:{x:r.x+h.left,y:r.y},size:{width:(r.width-(h.right-h.width))/h.width,height:1}},{frame:{x:c.x+h.right,y:c.y,width:c.width-h.right,height:h.top},pos:{x:r.right,y:r.y},size:{width:1,height:1}},{frame:{x:c.x,y:c.y+h.top,width:h.left,height:h.height},pos:{x:r.x,y:r.y+h.top},size:{width:1,height:(r.height-(h.bottom-h.height))/h.height}},{frame:{x:c.x+h.left,y:c.y+h.top,width:h.width,height:h.height},pos:{x:r.x+h.left,y:r.y+h.top},size:{width:(r.width-(h.right-h.width))/h.width,height:(r.height-
(h.bottom-h.height))/h.height}},{frame:{x:c.x+h.right,y:c.y+h.top,width:c.width-h.right,height:h.height},pos:{x:r.right,y:r.y+h.top},size:{width:1,height:(r.height-(h.bottom-h.height))/h.height}},{frame:{x:c.x,y:c.y+h.bottom,width:c.width-h.right,height:c.height-h.bottom},pos:{x:r.x,y:r.bottom},size:{width:1,height:1}},{frame:{x:c.x+h.left,y:c.y+h.bottom,width:h.width,height:c.height-h.bottom},pos:{x:r.x+h.left,y:r.bottom},size:{width:(r.width-(h.right-h.width))/h.width,height:1}},{frame:{x:c.x+h.right,
y:c.y+h.bottom,width:c.width-h.right,height:c.height-h.bottom},pos:{x:r.right,y:r.bottom},size:{width:1,height:1}}],h=0;9>h;h++)if(r=c[h],0<r.frame.width&&0<r.frame.height){b=r.frame;var q=this._texture,l=q.descriptor.width,q=q.descriptor.height,m={};m.x0=b.x/l;m.y0=b.y/q;m.x1=(b.x+b.width)/l;m.y1=b.y/q;m.x2=(b.x+b.width)/l;m.y2=(b.y+b.height)/q;m.x3=b.x/l;m.y3=(b.y+b.height)/q;b=m;a.set(this.gameObject.transform);a.x+=r.pos.x;a.y+=r.pos.y;a.setScale(r.size.width,r.size.height);a.updateWorldMatrix();
this._updateQuadVerticesByArgs(b,r.frame,f,a.worldMatrix,h)}else this._clearQuadVertices(h);this._quadVertexDirty=!1};c.prototype._updateNinePatchQuadAlpha=function(){for(var a=0;9>a;a++)this._updateQuadAlpha(a);this._quadAlphaDirty=!1};c.prototype._updateNinePatchQuadColor=function(){for(var a=0;9>a;a++)this._updateQuadColor(a);this._quadColorDirty=!1};c.prototype.render=function(a,c){this._texture&&((c&d.GameObject.MASK_TRANSFORM_DIRTY)===d.GameObject.MASK_TRANSFORM_DIRTY&&(this._quadVertexDirty=
!0),this._textureUpdated&&this._updateNinePatchQuads(),this._quadVertexDirty&&(this._updateNinePatchQuadVertices(),this._quadVertexDirty=!1),this._quadAlphaDirty&&this._updateNinePatchQuadAlpha(),this._quadColorDirty&&this._updateNinePatchQuadColor(),a.addCommand(f.init(this._quadGlobalZ,this._quadLayer,this._texture,this._quadMaterialId,this._quad)))};return c}(h.SpriteRenderer);h.NinePatchRenderer=b;d.Component.register(b,{name:"NinePatchRenderer",properties:[]})})(d.component||(d.component={}))})(WOZLLA||
(WOZLLA={}));(function(d){var h=function(d){function b(){d.apply(this,arguments);this.enabled=!0}__extends(b,d);b.prototype.update=function(){};return b}(d.Component);d.Behaviour=h})(WOZLLA||(WOZLLA={}));(function(d){var h=function(d){function b(a,c,b,g){void 0===c&&(c=!1);void 0===b&&(b=null);void 0===g&&(g=!0);d.call(this,a,c,b,g)}__extends(b,d);return b}(d.event.Event);d.CoreEvent=h})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){function f(a,c){c()}var b=function(){function a(){this.doInit=this.doLoad=!1}a.prototype.instantiateWithSrc=function(a,b){void 0===b&&(b=f);this.src=a;this.newCallback=b;return this};a.prototype.instantiateWithJSON=function(a,b){void 0===b&&(b=f);this.data=a;this.newCallback=b;return this};a.prototype.load=function(a){void 0===a&&(a=f);this.doLoad=!0;this.loadCallback=a;return this};a.prototype.init=function(){this.doLoad?this.doInit=!0:this.err="JSONXBuilder: init must after load";
return this};a.prototype.build=function(a){var b=this;this._loadJSONData(function(){b._checkError(a)||b._newGameObjectTree(function(){b._checkError(a)||(b.doLoad?b.newCallback(b.root,function(){b._loadAssets(function(){b._checkError(a)||(b.doInit&&b._init(),a(b.err,b.root))})}):a(b.err,b.root))})})};a.prototype._checkError=function(a){return this.err?(a(this.err,null),!0):!1};a.prototype._loadJSONData=function(a){var b=this;this.src&&!this.data?d.utils.Ajax.request({url:this.src,contentType:"json",
success:function(d){b.data=d;a&&a()},error:function(d){b.err=d;a&&a()}}):a&&a()};a.prototype._newGameObjectTree=function(a){var b=this;this._newGameObject(this.data.root,function(d){b.root=d;a&&a()})};a.prototype._newGameObject=function(a,b){var g=this,f=new d.GameObject(a.rect);f.id=a.id;f.name=a.name;f.active=a.active;f.visible=a.visible;f.touchable=a.touchable;f.transform.set(a.transform);var h=a.components;h&&0<h.length&&h.forEach(function(a){a=d.Component.create(a.name);f.addComponent(a)});var k=
0,r=a.children;r&&0!==r.length?r.forEach(function(a){a.reference?g._newReferenceObject(a,function(a){a&&f.addChild(a);k++;k===r.length&&b(f)}):g._newGameObject(a,function(a){f.addChild(a);k++;k===r.length&&b(f)})}):b(f)};a.prototype._newReferenceObject=function(b,d){var g=this;(new a).instantiateWithSrc(b.reference).build(function(a,f){a?g.err=a:f&&(f.name=b.name,f.id=b.id,f.active=b.active,f.visible=b.visible,f.touchable=b.touchable,f.transform.set(b.transform));d(f)})};a.prototype._loadAssets=function(a){a&&
a()};a.prototype._init=function(){this.root.init()};return a}();h.JSONXBuilder=b})(d.jsonx||(d.jsonx={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,b,d){this.centerX=a;this.centerY=b;this.radius=d}b.prototype.containsXY=function(a,b){return Math.pow(a-this.centerX,2)+Math.pow(b-this.centerY,2)<=this.radius};b.prototype.toString=function(){return"Circle["+this.centerX+","+this.centerY+","+this.radius+"]"};return b}();d.Circle=f})(d.math||(d.math={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){(function(d){d.rectIntersect=function(b,a){return b.x<a.x+a.width&&a.x<b.x+b.width&&b.y<a.y+a.height&&a.y<b.y+b.height};d.rectIntersect2=function(b,a,c,d,g,f,h,k){return b<=g+h&&g<=b+c&&a<=f+k&&f<=a+d}})(d.MathUtils||(d.MathUtils={}))})(d.math||(d.math={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(a,b){this.width=a;this.height=b}b.prototype.toString=function(){return"Size["+this.width+","+this.height+"]"};return b}();d.Size=f})(d.math||(d.math={}))})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.IMaterialManager||(d.IMaterialManager={})).DOC="DOC"})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.IShaderManager||(d.IShaderManager={})).DOC="DOC"})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){(function(d){d[d.PNG=0]="PNG";d[d.JPEG=1]="JPEG";d[d.PVR=2]="PVR"})(d.TextureFormat||(d.TextureFormat={}));(function(d){d[d.RGBA8888=0]="RGBA8888";d[d.RGBA4444=1]="RGBA4444";d[d.RGB888=2]="RGB888";d[d.RGB565=3]="RGB565";d[d.PVRTC4=4]="PVRTC4";d[d.PVRTC2=5]="PVRTC2"})(d.PixelFormat||(d.PixelFormat={}))})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));(function(d){d=d.renderer||(d.renderer={});(d.ITextureManager||(d.ITextureManager={})).DOC="DOC"})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){}b.getExtension=function(a,c,d){void 0===d&&(d=!0);a=a.getExtension(c)||a.getExtension(a,b.VENDOR_WEBKIT+c);if(null!=a)return a;if(d)throw Error("Unsupported extension: "+c);};b.VENDOR_WEBKIT="WEBKIT_";b.PVRTC="WEBGL_compressed_texture_pvrtc";b.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842;b.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843;return b}();d.WebGLExtension=f})(d.renderer||(d.renderer={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=function(c){function e(){c.apply(this,arguments);this._stateConfig={}}__extends(e,c);e.prototype.defineState=function(a,b){void 0===b&&(b=!1);d.Assert.isUndefined(this._stateConfig[a],'state "'+a+'" has been defined');this._stateConfig[a]={data:{}};b&&(this._defaultState=a)};e.prototype.getStateData=function(a,b){d.Assert.isNotUndefined(this._stateConfig[a],'state "'+a+'" not defined');return this._stateConfig[a].data[b]};e.prototype.setStateData=function(a,b,c){d.Assert.isNotUndefined(this._stateConfig[a],
'state "'+a+'" not defined');this._stateConfig[a].data[b]=c};e.prototype.defineTransition=function(a,b,c){d.Assert.isNotUndefined(this._stateConfig[a],'state "'+a+'" not defined');d.Assert.isNotUndefined(this._stateConfig[b],'state "'+b+'" not defined');this._stateConfig[a][b]=c};e.prototype.init=function(){this._currentState=this._defaultState;this.dispatchEvent(new d.event.Event(e.INIT,!1,new b(this._currentState)))};e.prototype.getCurrentState=function(){return this._currentState};e.prototype.changeState=
function(c){var f=this,h,k;d.Assert.isNotUndefined(this._stateConfig[c]);h=this._currentState;k=this._stateConfig[c][c]||a.getInstance();this._currentTransition&&this._currentTransition.cancel();k.reset();k.execute(h,c,function(){f._currentTransition=null;f._currentState=c;f.dispatchEvent(new d.event.Event(e.CHANGE,!1,new b(f._currentState)))});this._currentTransition=k};e.INIT="state.init";e.CHANGE="state.change";return e}(d.event.EventDispatcher);h.StateMachine=f;var b=function(){return function(a){this.state=
a}}();h.StateEventData=b;var a=function(){function a(){this._canceled=!1}a.getInstance=function(){a.instance||(a.instance=new a);return a.instance};a.prototype.reset=function(){this._canceled=!1};a.prototype.cancel=function(){this._canceled=!0};a.prototype.execute=function(a,b,c){this._canceled||c()};return a}();h.EmptyTransition=a})(d.utils||(d.utils={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(h){var f=d.utils.StateMachine,b=function(a){function b(){a.apply(this,arguments);this._stateMachine=new d.utils.StateMachine}__extends(b,a);Object.defineProperty(b.prototype,"spriteAtlas",{get:function(){return this._spriteAtlas},set:function(a){this._spriteAtlas=a},enumerable:!0,configurable:!0});b.prototype.listRequiredComponents=function(){return[d.component.SpriteRenderer]};b.prototype.init=function(){var b=this;this._stateMachine.addListener(f.INIT,function(a){return b.onStateChange(a)});
this._stateMachine.addListener(f.CHANGE,function(a){return b.onStateChange(a)});this._spriteRenderer=this.gameObject.renderer;a.prototype.init.call(this)};b.prototype.getStateSpriteName=function(a){return this._stateMachine.getStateData(a,"spriteName")};b.prototype.setStateSpriteName=function(a,b){this._stateMachine.setStateData(a,"spriteName",b)};b.prototype.onStateChange=function(a){this._spriteRenderer.sprite=this._spriteAtlas.getSprite(this.getStateSpriteName(a.data.state))};return b}(d.Component);
h.StateWidget=b})(d.ui||(d.ui={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(b){function a(){b.call(this);this._stateMachine.defineState(a.STATE_NORMAL,!0);this._stateMachine.defineState(a.STATE_DISABLED);this._stateMachine.defineState(a.STATE_PRESSED)}__extends(a,b);Object.defineProperty(a.prototype,"normalSpriteName",{get:function(){return this.getStateSpriteName(a.STATE_NORMAL)},set:function(b){this.setStateSpriteName(a.STATE_NORMAL,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"disabledSpriteName",{get:function(){return this.getStateSpriteName(a.STATE_DISABLED)},
set:function(b){this.setStateSpriteName(a.STATE_DISABLED,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"pressedSpriteName",{get:function(){return this.getStateSpriteName(a.STATE_PRESSED)},set:function(b){this.setStateSpriteName(a.STATE_PRESSED,b)},enumerable:!0,configurable:!0});a.prototype.init=function(){var a=this;this.gameObject.addListener("touch",function(b){return a.onTouch(b)});this.gameObject.addListener("release",function(b){return a.onRelease(b)});this.gameObject.addListener("tap",
function(b){return a.onTap(b)});this._stateMachine.init();b.prototype.init.call(this)};a.prototype.destroy=function(){this._stateMachine.clearAllListeners();b.prototype.destroy.call(this)};a.prototype.isEnabled=function(){return this._stateMachine.getCurrentState()!==a.STATE_DISABLED};a.prototype.setEnabled=function(b){void 0===b&&(b=!0);this._stateMachine.changeState(b?a.STATE_NORMAL:a.STATE_DISABLED);this._gameObject.touchable=b};a.prototype.onTouch=function(b){this._stateMachine.changeState(a.STATE_PRESSED)};
a.prototype.onRelease=function(b){this._stateMachine.changeState(a.STATE_NORMAL)};a.prototype.onTap=function(a){};a.STATE_NORMAL="normal";a.STATE_DISABLED="disabled";a.STATE_PRESSED="pressed";return a}(d.StateWidget);d.Button=f})(d.ui||(d.ui={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(b){function a(){b.call(this);this._stateMachine.defineState(a.STATE_UNCHECKED,!0);this._stateMachine.defineState(a.STATE_DISABLED);this._stateMachine.defineState(a.STATE_CHECKED)}__extends(a,b);Object.defineProperty(a.prototype,"uncheckedSpriteName",{get:function(){return this.getStateSpriteName(a.STATE_UNCHECKED)},set:function(b){this.setStateSpriteName(a.STATE_UNCHECKED,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"disabledSpriteName",
{get:function(){return this.getStateSpriteName(a.STATE_DISABLED)},set:function(b){this.setStateSpriteName(a.STATE_DISABLED,b)},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"checkedSpriteName",{get:function(){return this.getStateSpriteName(a.STATE_CHECKED)},set:function(b){this.setStateSpriteName(a.STATE_CHECKED,b)},enumerable:!0,configurable:!0});a.prototype.init=function(){var a=this;this._gameObject.addListener("tap",function(b){return a.onTap(b)});this._stateMachine.init();
b.prototype.init.call(this)};a.prototype.destroy=function(){this._stateMachine.clearAllListeners();b.prototype.destroy.call(this)};a.prototype.isEnabled=function(){return this._stateMachine.getCurrentState()!==a.STATE_DISABLED};a.prototype.setEnabled=function(b){void 0===b&&(b=!0);this._stateMachine.changeState(b?a.STATE_UNCHECKED:a.STATE_DISABLED);this._gameObject.touchable=b};a.prototype.onTap=function(b){this._stateMachine.getCurrentState()===a.STATE_CHECKED?this._stateMachine.changeState(a.STATE_UNCHECKED):
this._stateMachine.changeState(a.STATE_CHECKED)};a.STATE_UNCHECKED="unchecked";a.STATE_CHECKED="checked";a.STATE_DISABLED="disabled";return a}(d.StateWidget);d.CheckBox=f})(d.ui||(d.ui={}))})(WOZLLA||(WOZLLA={}));
(function(d){(function(d){var f=function(){function b(){}b.get=function(a){-1>a&&(a=-1);1<a&&(a=1);return function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}};b.getPowIn=function(a){return function(b){return Math.pow(b,a)}};b.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}};b.getPowInOut=function(a){return function(b){return 1>(b*=2)?.5*Math.pow(b,a):1-.5*Math.abs(Math.pow(2-b,a))}};b.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)};b.sineOut=function(a){return Math.sin(a*
Math.PI/2)};b.sineInOut=function(a){return-.5*(Math.cos(Math.PI*a)-1)};b.getBackIn=function(a){return function(b){return b*b*((a+1)*b-a)}};b.getBackOut=function(a){return function(b){b-=1;return b*b*((a+1)*b+a)+1}};b.getBackInOut=function(a){a*=1.525;return function(b){return 1>(b*=2)?.5*b*b*((a+1)*b-a):.5*((b-=2)*b*((a+1)*b+a)+2)}};b.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};b.circOut=function(a){return Math.sqrt(1-a*a)};b.circInOut=function(a){return 1>(a*=2)?-.5*(Math.sqrt(1-a*a)-1):.5*(Math.sqrt(1-
(a-=2)*a)+1)};b.bounceIn=function(a){return 1-b.bounceOut(1-a)};b.bounceOut=function(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375};b.bounceInOut=function(a){return.5>a?.5*b.bounceIn(2*a):.5*b.bounceOut(2*a-1)+.5};b.getElasticIn=function(a,b){var d=2*Math.PI;return function(f){if(0==f||1==f)return f;var h=b/d*Math.asin(1/a);return-(a*Math.pow(2,10*(f-=1))*Math.sin((f-h)*d/b))}};b.getElasticOut=function(a,
b){var d=2*Math.PI;return function(f){if(0==f||1==f)return f;var h=b/d*Math.asin(1/a);return a*Math.pow(2,-10*f)*Math.sin((f-h)*d/b)+1}};b.getElasticInOut=function(a,b){var d=2*Math.PI;return function(f){var h=b/d*Math.asin(1/a);return 1>(f*=2)?-.5*a*Math.pow(2,10*(f-=1))*Math.sin((f-h)*d/b):a*Math.pow(2,-10*(f-=1))*Math.sin((f-h)*d/b)*.5+1}};b.linear=function(a){return a};b.expoIn=function(a){return 0==a?0:Math.pow(2,10*(a-1))-.001};b.expoOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};b.expoInOut=
function(a){a/=.5;return a=1>a?.5*Math.pow(2,10*(a-1)):.5*(-Math.pow(2,-10*(a-1))+2)};b.getByKey=function(a){return b[b.keyMap[a]]};b.quadIn=b.getPowIn(2);b.quadOut=b.getPowOut(2);b.quadInOut=b.getPowInOut(2);b.cubicIn=b.getPowIn(3);b.cubicOut=b.getPowOut(3);b.cubicInOut=b.getPowInOut(3);b.quartIn=b.getPowIn(4);b.quartOut=b.getPowOut(4);b.quartInOut=b.getPowInOut(4);b.quintIn=b.getPowIn(5);b.quintOut=b.getPowOut(5);b.quintInOut=b.getPowInOut(5);b.backIn=b.getBackIn(1.7);b.backOut=b.getBackOut(1.7);
b.backInOut=b.getBackInOut(1.7);b.elasticIn=b.getElasticIn(1,.3);b.elasticOut=b.getElasticOut(1,.3);b.elasticInOut=b.getElasticInOut(1,.3*1.5);b.keyMap={0:"linear",1:"sineIn",2:"sineOut",3:"sineInOut",4:"quadIn",5:"quadOut",6:"quadInOut",7:"cubicIn",8:"cubicOut",9:"cubicInOut",10:"quartIn",11:"quartOut",12:"quartInOut",13:"quintIn",14:"quintOut",15:"quintInOut",16:"expoIn",17:"expoOut",18:"expoInOut",19:"circIn",20:"circOut",21:"circInOut",22:"elasticIn",23:"elasticOut",24:"elasticInOut",25:"backIn",
26:"backOut",27:"backInOut",28:"bounceIn",29:"bounceOut",30:"bounceInOut"};return b}();d.Ease=f})(d.utils||(d.utils={}))})(WOZLLA||(WOZLLA={}));
